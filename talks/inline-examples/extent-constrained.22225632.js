!function(){function t(t){return t&&t.__esModule?t.default:t}function e(t,e,i){Object.defineProperty(t,e,{get:i,enumerable:!0})}var i=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire827f,r=i("6W0dQ"),o=i("3c7eX"),n=i("5Ba2V"),s=i("32uGt"),a=i("39V9W"),l=(t(a()),i("58Ozq")),u=i("6iHsi"),c=i("1r7aQ"),h=i("2CLDT"),f=i("2pDI3"),p=i("2Mv4S"),d=i("6t9dn"),g=i("15WSU"),_=i("4gWVc"),v=i("44RlP"),y=i("6LFI3"),T=(t(y()),i("7mktf")),m=i("eqKjn"),E=i("3IG2q"),C=i("5qc1l"),x=i("4Twp4"),w=i("JFNg6"),F=(t(w()),i("6zgYM"));t(F());r();var S={},P={},j={};o();var O={},R={};n(),s(),a(),l(),o();var b,z=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),L=function(t){function e(e,i,r){var o=t.call(this)||this,n=r||{};return o.tileCoord=e,o.state=i,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===n.transition?250:n.transition,o.transitionStarts_={},o}return z(e,t),e.prototype.changed=function(){this.dispatchEvent(l().default.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==n().default.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==n().default.LOADED){t.interimTile=null;break}t.getState()==n().default.LOADING?e=t:t.getState()==n().default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==n().default.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){o().abstract()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:s().easeIn(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a().default);e(R,"default",(function(){return L})),n(),u(),c();var I=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),G=function(t){function e(e,i,r,o,n,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=o,a.src_=r,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.tileLoadFunction_=n,a}return I(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){var t;this.state=n().default.ERROR,this.unlistenImage_(),this.image_=((t=u().createCanvasContext2D(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=n().default.LOADED:this.state=n().default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==n().default.ERROR&&(this.state=n().default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n().default.IDLE&&(this.state=n().default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=c().listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(R.default);e(O,"default",(function(){return G}));var M={};h();var W=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return h().assert(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return h().assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){h().assert(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function A(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function Z(t,e,i){return t+"/"+e+"/"+i}function D(t){return Z(t[0],t[1],t[2])}var U=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(D(e.tileCoord)),e.release())}.bind(this))}},e}(W);e(M,"default",(function(){return k})),n(),l(),f();var X={};function q(t,e,i,r){var o=i-t,n=r-e,s=Math.sqrt(o*o+n*n);return[Math.round(i+o/s),Math.round(r+n/s)]}n(),p(),l(),d(),g(),u(),d(),g(),f(),d(),g(),f();var K=function(){function t(t,e,i,r,o){this.sourceProj_=t,this.targetProj_=e;var n={},s=f().getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return n[e]||(n[e]=s(t)),n[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&d().getWidth(r)==d().getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?d().getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?d().getWidth(this.targetProj_.getExtent()):null;var a=d().getTopLeft(i),l=d().getTopRight(i),u=d().getBottomRight(i),c=d().getBottomLeft(i),h=this.transformInv_(a),p=this.transformInv_(l),g=this.transformInv_(u),_=this.transformInv_(c);if(this.addQuad_(a,l,u,c,h,p,g,_,10),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,i){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}n={}}return t.prototype.addTriangle_=function(t,e,i,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,e,i]})},t.prototype.addQuad_=function(t,e,i,r,o,n,s,a,l){var u=d().boundingExtent([o,n,s,a]),c=this.sourceWorldWidth_?d().getWidth(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=d().boundingExtent([t,e,i,r]);p=d().getWidth(_)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)}if(p||!this.maxSourceExtent_||d().intersects(u,this.maxSourceExtent_)){if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var v=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(v),T=void 0;if(f)T=(g().modulo(o[0],h)+g().modulo(s[0],h))/2-g().modulo(y[0],h);else T=(o[0]+s[0])/2-y[0];var m=(o[1]+s[1])/2-y[1];p=T*T+m*m>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var E=[(e[0]+i[0])/2,(e[1]+i[1])/2],C=this.transformInv_(E),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(x);this.addQuad_(t,e,E,x,o,n,C,w,l-1),this.addQuad_(x,E,i,r,w,C,s,a,l-1)}else{var F=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(F),P=[(i[0]+r[0])/2,(i[1]+r[1])/2],j=this.transformInv_(P);this.addQuad_(t,F,P,r,o,S,j,a,l-1),this.addQuad_(F,e,i,P,S,n,s,j,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,r,o,s,a),this.addTriangle_(t,e,i,o,n,s)}},t.prototype.calculateSourceExtent=function(){var t=d().createEmpty();return this.triangles_.forEach((function(e,i,r){var o=e.source;d().extendCoordinate(t,o[0]),d().extendCoordinate(t,o[1]),d().extendCoordinate(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Y=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),N=function(t){function e(e,i,r,o,s,a,l,u,c,h,p){var _=t.call(this,s,n().default.IDLE)||this;_.renderEdges_=void 0!==p&&p,_.pixelRatio_=l,_.gutter_=u,_.canvas_=null,_.sourceTileGrid_=i,_.targetTileGrid_=o,_.wrappedTileCoord_=a||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var v=o.getTileCoordExtent(_.wrappedTileCoord_),y=_.targetTileGrid_.getExtent(),T=_.sourceTileGrid_.getExtent(),m=y?d().getIntersection(v,y):v;if(0===d().getArea(m))return _.state=n().default.EMPTY,_;var E=e.getExtent();E&&(T=T?d().getIntersection(T,E):E);var C=o.getResolution(_.wrappedTileCoord_[0]),x=function(t,e,i,r){var o=f().transform(i,e,t),n=f().getPointResolution(e,r,i),s=e.getMetersPerUnit();void 0!==s&&(n*=s);var a=t.getMetersPerUnit();void 0!==a&&(n/=a);var l=t.getExtent();if(!l||d().containsCoordinate(l,o)){var u=f().getPointResolution(t,n,o)/n;isFinite(u)&&u>0&&(n/=u)}return n}(e,r,d().getCenter(m),C);if(!isFinite(x)||x<=0)return _.state=n().default.EMPTY,_;var w=void 0!==h?h:.5;if(_.triangulation_=new K(e,r,m,T,x*w),0===_.triangulation_.getTriangles().length)return _.state=n().default.EMPTY,_;_.sourceZ_=i.getZForResolution(x);var F=_.triangulation_.calculateSourceExtent();if(T&&(e.canWrapX()?(F[1]=g().clamp(F[1],T[1],T[3]),F[3]=g().clamp(F[3],T[1],T[3])):F=d().getIntersection(F,T)),d().getArea(F)){for(var S=i.getTileRangeForExtentAndZ(F,_.sourceZ_),P=S.minX;P<=S.maxX;P++)for(var j=S.minY;j<=S.maxY;j++){var O=c(_.sourceZ_,P,j,l);O&&_.sourceTiles_.push(O)}0===_.sourceTiles_.length&&(_.state=n().default.EMPTY)}else _.state=n().default.EMPTY;return _}return Y(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==n().default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=n().default.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,r,o,n,s,a,l,c,h){var f=u().createCanvasContext2D(Math.round(i*t),Math.round(i*e));if(0===l.length)return f.canvas;f.scale(i,i);var p=d().createEmpty();l.forEach((function(t,e,i){d().extend(p,t.extent)}));var _=d().getWidth(p),v=d().getHeight(p),y=u().createCanvasContext2D(Math.round(i*_/r),Math.round(i*v/r)),T=i/r;l.forEach((function(t,e,i){var r=t.extent[0]-p[0],o=-(t.extent[3]-p[3]),n=d().getWidth(t.extent),s=d().getHeight(t.extent);y.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*T,o*T,n*T,s*T)}));var m=d().getTopLeft(s);return a.getTriangles().forEach((function(t,e,o){var s=t.source,a=t.target,l=s[0][0],u=s[0][1],c=s[1][0],h=s[1][1],d=s[2][0],_=s[2][1],v=(a[0][0]-m[0])/n,T=-(a[0][1]-m[1])/n,E=(a[1][0]-m[0])/n,C=-(a[1][1]-m[1])/n,x=(a[2][0]-m[0])/n,w=-(a[2][1]-m[1])/n,F=l,S=u;l=0,u=0;var P=[[c-=F,h-=S,0,0,E-v],[d-=F,_-=S,0,0,x-v],[0,0,c,h,C-T],[0,0,d,_,w-T]],j=g().solveLinearSystem(P);if(j){f.save(),f.beginPath();var O=(v+E+x)/3,R=(T+C+w)/3,b=q(O,R,v,T),z=q(O,R,E,C),L=q(O,R,x,w);f.moveTo(z[0],z[1]),f.lineTo(b[0],b[1]),f.lineTo(L[0],L[1]),f.clip(),f.transform(j[0],j[2],j[1],j[3],v,T),f.translate(p[0]-F,p[3]-S),f.scale(r/i,-r/i),f.drawImage(y.canvas,0,0),f.restore()}})),h&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach((function(t,e,i){var r=t.target,o=(r[0][0]-m[0])/n,s=-(r[0][1]-m[1])/n,a=(r[1][0]-m[0])/n,l=-(r[1][1]-m[1])/n,u=(r[2][0]-m[0])/n,c=-(r[2][1]-m[1])/n;f.beginPath(),f.moveTo(a,l),f.lineTo(o,s),f.lineTo(u,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=n().default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==n().default.IDLE){this.state=n().default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var o=e.getState();if(o==n().default.IDLE||o==n().default.LOADING){t++;var s=p().listen(e,l().default.CHANGE,(function(i){var r=e.getState();r!=n().default.LOADED&&r!=n().default.ERROR&&r!=n().default.EMPTY||(p().unlistenByKey(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==n().default.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(p().unlistenByKey),this.sourcesListenerKeys_=null},e}(R.default);e(X,"default",(function(){return N}));var H={};function Q(t,e){var i=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,n=/\{-y\}/g;return function(s,a,l){return s?t.replace(i,s[0].toString()).replace(r,s[1].toString()).replace(o,s[2].toString()).replace(n,(function(){var t=s[0],i=e.getFullTileRange(t);return h().assert(i,55),(i.getHeight()-s[2]-1).toString()})):void 0}}function B(t,e){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=Q(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,i,r){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),n=g().modulo(o,t.length);return t[n](e,i,r)}}}(r)}function V(t,e,i){}o(),n(),h(),g();var J={};o(),n(),_(),f(),v(),y(),T(),v(),d(),m(),f(),E(),T(),h(),C(),x(),d(),g(),v();var $=[0,0,0],tt=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,h().assert(x().isSorted(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,h().assert(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0===o||this.origin_||this.origins_||(this.origin_=d().getTopLeft(o)),h().assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,h().assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:T().DEFAULT_TILE_SIZE,h().assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new(C().default)(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):o&&this.calculateTileRanges_(o)}return t.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,o,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,r){var o,n,s,a=null,l=t[0]-1;for(2===this.zoomFactor_?(n=t[1],s=t[2]):a=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(2===this.zoomFactor_?(n=Math.floor(n/2),s=Math.floor(s/2),o=C().createOrUpdate(n,n,s,s,i)):o=this.getTileRangeForExtentAndZ(a,l,i),e(l,o))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return C().createOrUpdate(r,r+1,o,o+1,e)}var n=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(n,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),n=v().toSize(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*n[0]*o,a=r[0]+(e.maxX+1)*n[0]*o,l=r[1]+e.minY*n[1]*o,u=r[1]+(e.maxY+1)*n[1]*o;return d().createOrUpdate(s,l,a,u,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=$;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var o=r[1],n=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),C().createOrUpdate(o,r[1],n,r[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=v().toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=v().toSize(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*o[0]*r,s=i[1]-(t[2]+1)*o[1]*r,a=n+o[0]*r,l=s+o[1]*r;return d().createOrUpdate(n,s,a,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),l=v().toSize(this.getTileSize(n),this.tmpSize_),u=r?.5:0,c=r?.5:0,h=Math.floor((t-a[0])/i+u),f=Math.floor((a[1]-e)/i+c),p=s*h/l[0],d=s*f/l[1];return r?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),A(n,p,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var n=this.getOrigin(i),s=this.getResolution(i),a=v().toSize(this.getTileSize(i),this.tmpSize_),l=r?.5:0,u=r?.5:0,c=Math.floor((t-n[0])/s+l),h=Math.floor((n[1]-e)/s+u),f=c/a[0],p=h/a[1];return r?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),A(i,f,p,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var i=x().linearFindNearest(this.resolutions_,t,e||0);return g().clamp(i,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},t}();function et(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,r){return function(t,e,i,r){var o=void 0!==r?r:m().default.TOP_LEFT,n=it(t,e,i);return new tt({extent:t,origin:d().getCorner(t,o),resolutions:n,tileSize:i})}(rt(t),e,i,r)}(t),t.setDefaultTileGrid(e)),e}function it(t,e,i,r){for(var o=void 0!==e?e:T().DEFAULT_MAX_ZOOM,n=d().getHeight(t),s=d().getWidth(t),a=v().toSize(void 0!==i?i:T().DEFAULT_TILE_SIZE),l=r>0?r:Math.max(s/a[0],n/a[1]),u=o+1,c=new Array(u),h=0;h<u;++h)c[h]=l/Math.pow(2,h);return c}function rt(t){var e=(t=f().get(t)).getExtent();if(!e){var i=180*f().METERS_PER_UNIT[E().default.DEGREES]/t.getMetersPerUnit();e=d().createOrUpdate(-i,-i,i,i)}return e}var ot=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),nt=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=[256,256],o=e.tileGrid;o&&v().toSize(o.getTileSize(o.getMinZoom()),r);var n="undefined"!=typeof screen,s=n?screen.availWidth||screen.width:1920,a=n?screen.availHeight||screen.height:1080,l=4*Math.ceil(s/r[0])*Math.ceil(a/r[1]);return i.tileCache=new M.default(Math.max(l,e.cacheSize||0)),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return ot(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var s,a,l,u=!0,c=i.minX;c<=i.maxX;++c)for(var h=i.minY;h<=i.maxY;++h)a=Z(e,c,h),l=!1,o.containsKey(a)&&(l=(s=o.get(a)).getState()===n().default.LOADED)&&(l=!1!==r(s)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,r,n){return o().abstract()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:et(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!f().equivalent(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),n=v().toSize(r.getTileSize(t),this.tmpSize);return 1==o?n:v().scale(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=function(t,e,i){var r=e[0],o=t.getTileCoordCenter(e),n=rt(i);if(d().containsCoordinate(n,o))return e;var s=d().getWidth(n),a=Math.ceil((n[0]-o[0])/s);return o[0]+=s*a,t.getTileCoordForCoordAndZ(o,r)}(r,t,i)),function(t,e){var i=t[0],r=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n,s=e.getExtent();return!(n=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||n.containsXY(r,o)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,i,r){},e}(y().default),st=function(t){function e(e,i){var r=t.call(this,e)||this;return r.tile=i,r}return ot(e,t),e}(_().default);e(J,"TileSourceEvent",(function(){return st})),e(J,"default",(function(){return nt}));var at="tileloadstart",lt="tileloadend",ut="tileloaderror",ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ht=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.generateTileUrlFunction_=!e.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,i.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(i):V,i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return ct(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=o().getUid(i),s=i.getState();s==n().default.LOADING?(this.tileLoadingKeys_[r]=!0,e=at):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=s==n().default.ERROR?ut:s==n().default.LOADED?lt:void 0),null!=e&&this.dispatchEvent(new J.TileSourceEvent(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r=i[1].charCodeAt(0),o=i[2].charCodeAt(0),n=void 0;for(n=r;n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(B(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=Z(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(J.default);e(H,"default",(function(){return ht}));var ft=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),pt=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:dt,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:O.default,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return ft(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==i?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==i?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!f().equivalent(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!f().equivalent(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!f().equivalent(e,t)){var i=o().getUid(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=et(t)),this.tileGridForProjection[i]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||f().equivalent(e,t))return this.tileCache;var i=o().getUid(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new M.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,e,i,r,o,s){var a=[t,e,i],u=this.getTileCoordForTileUrlFunction(a,o),c=u?this.tileUrlFunction(u,r,o):void 0,h=new this.tileClass(a,void 0!==c?n().default.IDLE:n().default.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(l().default.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,i,r,o){var n=this.getProjection();if(n&&o&&!f().equivalent(n,o)){var s=this.getTileCacheForProjection(o),a=[t,e,i],l=void 0,u=D(a);s.containsKey(u)&&(l=s.get(u));var c=this.getKey();if(l&&l.key==c)return l;var h=this.getTileGridForProjection(n),p=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(a,o),g=new X.default(n,h,o,p,a,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,n)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=c,l?(g.interimTile=l,g.refreshInterimChain(),s.replace(u,g)):s.set(u,g),g}return this.getTileInternal(t,e,i,r,n||o)},e.prototype.getTileInternal=function(t,e,i,r,o){var s=null,a=Z(t,e,i),l=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=l){var u=s;s=this.createTile_(t,e,i,r,o,l),u.getState()==n().default.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,i,r,o,l),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var i=f().get(t);if(i){var r=o().getUid(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(H.default);function dt(t,e){t.getImage().src=e}e(j,"default",(function(){return pt}));var gt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),_t=function(t){function e(e){var i=e||{},r=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var e=t||{},i=e.extent||f().get("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:it(i,e.maxZoom,e.tileSize,e.maxResolution)};return new tt(r)}({extent:rt(r),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return gt(e,t),e}(j.default);e(P,"default",(function(){return _t}));var vt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),yt=function(t){function e(e){var i,r=e||{};i=void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var o=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:i,cacheSize:r.cacheSize,crossOrigin:o,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:n,wrapX:r.wrapX,attributionsCollapsible:!1})||this}return vt(e,t),e}(P.default);e(S,"default",(function(){return yt})),f(),d(),f().useGeographic();const Tt=[7.749881,47.944828,7.849881+.1,47.994828+.05],mt=[new(w().default)({center:[0,0],zoom:2}),new(w().default)({extent:Tt,center:d().getCenter(Tt),zoom:14})],Et=new(F().default)({target:"map",layers:[new(r().Tile)({source:new S.default})],view:mt[0]});document.getElementById("view-toggle").addEventListener("click",(()=>{const t=mt.indexOf(Et.getView()),e=mt[(t+1)%2];Et.setView(e)}))}();