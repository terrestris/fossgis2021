!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=r.parcelRequire827f;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){let t=i[e];delete i[e];let r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){i[e]=t},r.parcelRequire827f=o),o.register("3OOJ5",(function(t,r){var n,i;e(t.exports,"register",(()=>n),(e=>n=e)),e(t.exports,"resolve",(()=>i),(e=>i=e));var o={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)o[t[r]]=e[t[r]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("3OOJ5").register(JSON.parse('{"3Wo4N":"mixed-renderers.04944451.js","oaxmK":"world.843a5534.svg","6la4e":"2012_Earthquakes_Mag5.c58e23ec.kml","0acRd":"mixed-renderers.7620afdc.css","39l4W":"mixed-renderers.88cf3e0b.js"}'));var a=o("4BFFB"),s=o("N1rY5"),l={};e(l,"default",(()=>Se),(e=>Se=e));var u=o("1rnY9"),d={};e(d,"default",(()=>fe),(e=>fe=e));var f,c=o("6isWD"),h=o("1gVIf"),p=o("2irPz"),g=o("3dwRD"),m=34962,_=34963,y=35048,v=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function S(e,t){for(var r=v.length,n=0;n<r;++n)try{var i=e.getContext(v[n],t);if(i)return i}catch(e){}return null}var T=o("1mHUI"),E=35044;function P(e){switch(e){case m:return Float32Array;case _:return Uint32Array;default:return Float32Array}}var x=function(){function e(e,t){this.array=null,this.type=e,T.assert(e===m||e===_,62),this.usage=void 0!==t?t:E}return e.prototype.ofSize=function(e){this.array=new(P(this.type))(e)},e.prototype.fromArray=function(e){this.array=P(this.type).from(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(P(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}(),A={};e(A,"colorDecodeId",(()=>re),(e=>re=e)),e(A,"default",(()=>ne),(e=>ne=e)),e(A,"getBlankImageData",(()=>ee),(e=>ee=e)),e(A,"WebGLWorkerMessageType",(()=>q),(e=>q=e)),e(A,"writePointFeatureToBuffers",(()=>$),(e=>$=e)),e(A,"colorEncodeId",(()=>te),(e=>te=e));var b=o("5iuGx"),R=o("OadRJ"),O=o("4uxJu"),C={};e(C,"AttributeType",(()=>X),(e=>X=e)),e(C,"ShaderType",(()=>j),(e=>j=e)),e(C,"DefaultUniform",(()=>Y),(e=>Y=e)),e(C,"computeAttributesStride",(()=>z),(e=>z=e)),e(C,"default",(()=>W),(e=>W=e));var N="webglcontextlost",k="webglcontextrestored",w=o("7xsVg"),L=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(r);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(r){this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),r=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var n=t.RGBA,i=t.RGBA,o=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,n,r[0],r[1],0,i,o,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t){var r=this.getGL(),n=e.size;r.bindFramebuffer(r.FRAMEBUFFER,t?t.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),r.drawArrays(r.TRIANGLES,0,6)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=1;this.uniforms_.forEach((function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(i.location,n++);else if(Array.isArray(t))switch(t.length){case 2:return void r.uniform2f(i.location,t[0],t[1]);case 3:return void r.uniform3f(i.location,t[0],t[1],t[2]);case 4:return void r.uniform4f(i.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(i.location,t)}))},e}(),F=(T=o("1mHUI"),o("6RQ94")),I=o("5ljS4");function D(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var U,M=o("6fegY"),B=o("3MevS"),G=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),j={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633},Y={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},X={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function z(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*H(n.type)}return t}function H(e){switch(e){case X.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case X.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case X.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case X.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var W=function(e){function t(t){var r=e.call(this)||this,n=t||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=S(r.canvas_);var i=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,T.assert(B.includes(function(){if(!f){var e=S(document.createElement("canvas"));e&&(f=e.getSupportedExtensions())}return f}(),"OES_element_index_uint"),63),i.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(N,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(k,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=I.create(),r.offsetScaleMatrix_=I.create(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],n.uniforms)for(var o in n.uniforms)r.uniforms_.push({name:o,value:n.uniforms[o]});return r.postProcessPasses_=n.postProcesses?n.postProcesses.map((function(e){return new L({webGlContext:i,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new L({webGlContext:i})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return G(t,e),t.prototype.bindBuffer=function(e){var t=this.getGL(),r=M.getUid(e),n=this.bufferCache_[r];n||(n={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=n);t.bindBuffer(e.getType(),n.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),r=M.getUid(e),n=this.bufferCache_[r];n&&!t.isContextLost()&&t.deleteBuffer(n.webGlBuffer),delete this.bufferCache_[r]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(N,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(k,this.boundHandleWebGLContextRestored_)},t.prototype.prepareDraw=function(e){var t=this.getGL(),r=this.getCanvas(),n=e.size,i=e.pixelRatio;r.width=n[0]*i,r.height=n[1]*i,r.style.width=n[0]+"px",r.style.height=n[1]+"px",t.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(e);t.bindTexture(t.TEXTURE_2D,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,r){var n=this.getGL(),i=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.viewport(0,0,i[0],i[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var r=this.getGL(),n=r.UNSIGNED_INT,i=t-e,o=4*e;r.drawElements(r.TRIANGLES,i,n,o)},t.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,n=I.reset(this.offsetScaleMatrix_);I.scale(n,2/t[0],2/t[1]);var i=I.reset(this.offsetRotateMatrix_);0!==r&&I.rotate(i,-r),this.setUniformMatrixValue(Y.OFFSET_SCALE_MATRIX,D(this.tmpMat4_,n)),this.setUniformMatrixValue(Y.OFFSET_ROTATION_MATRIX,D(this.tmpMat4_,i)),this.setUniformFloatValue(Y.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Y.ZOOM,e.viewState.zoom),this.setUniformFloatValue(Y.RESOLUTION,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=0;this.uniforms_.forEach(function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)i.texture||(i.prevValue=void 0,i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&i.prevValue!==t&&(i.prevValue=t,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)),r.uniform1i(this.getUniformLocation(i.name),n++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(i.name,D(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),t[0],t[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),t[0],t[1],t[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(i.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var r=this.getGL(),n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n},t.prototype.getProgram=function(e,t){var r=this.getGL(),n=this.compileShader(e,r.FRAGMENT_SHADER),i=this.compileShader(t,r.VERTEX_SHADER),o=r.createProgram();if(r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),!r.getShaderParameter(n,r.COMPILE_STATUS)){var a="Fragment shader compliation failed: "+r.getShaderInfoLog(n);throw new Error(a)}if(r.deleteShader(n),!r.getShaderParameter(i,r.COMPILE_STATUS)){a="Vertex shader compilation failed: "+r.getShaderInfoLog(i);throw new Error(a)}if(r.deleteShader(i),!r.getProgramParameter(o,r.LINK_STATUS)){a="GL program linking failed: "+r.getShaderInfoLog(i);throw new Error(a)}return o},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var r=e.size,n=e.viewState.rotation,i=e.viewState.resolution,o=e.viewState.center;return I.reset(t),I.compose(t,0,0,2/(i*r[0]),2/(i*r[1]),-n,-o[0],-o[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,r,n,i){var o=this.getAttributeLocation(e);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,t,r,!1,n,i))},t.prototype.enableAttributes=function(e){for(var t=z(e),r=0,n=0;n<e.length;n++){var i=e[n];this.enableAttributeArray_(i.name,i.size,i.type||5126,t,r),r+=i.size*H(i.type)}},t.prototype.handleWebGLContextLost=function(){F.clear(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,r){var n=this.getGL(),i=r||n.createTexture(),o=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),t?n.texImage2D(n.TEXTURE_2D,0,o,a,s,t):n.texImage2D(n.TEXTURE_2D,0,o,e[0],e[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i},t}(w.default),V=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),q={GENERATE_BUFFERS:"GENERATE_BUFFERS"},J=function(e){function t(t,r){var n=e.call(this,t)||this,i=r||{};return n.helper=new C.default({postProcesses:i.postProcesses,uniforms:i.uniforms}),void 0!==i.className&&(n.helper.getCanvas().className=i.className),n}return V(t,e),t.prototype.disposeInternal=function(){this.helper.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(e,t){var r=this.getLayer();if(r.hasListener(e)){var n=new R.default(e,null,t,null);r.dispatchEvent(n)}},t.prototype.preRender=function(e){this.dispatchRenderEvent_(O.default.PRERENDER,e)},t.prototype.postRender=function(e){this.dispatchRenderEvent_(O.default.POSTRENDER,e)},t}(b.default),Z=[],K={vertexPosition:0,indexPosition:0};function Q(e,t,r,n,i){e[t+0]=r,e[t+1]=n,e[t+2]=i}function $(e,t,r,n,i,o){var a=3+i,s=e[t+0],l=e[t+1],u=Z;u.length=i;for(var d=0;d<u.length;d++)u[d]=e[t+2+d];var f=o?o.vertexPosition:0,c=o?o.indexPosition:0,h=f/a;return Q(r,f,s,l,0),u.length&&r.set(u,f+3),Q(r,f+=a,s,l,1),u.length&&r.set(u,f+3),Q(r,f+=a,s,l,2),u.length&&r.set(u,f+3),Q(r,f+=a,s,l,3),u.length&&r.set(u,f+3),f+=a,n[c++]=h,n[c++]=h+1,n[c++]=h+3,n[c++]=h+1,n[c++]=h+2,n[c++]=h+3,K.vertexPosition=f,K.indexPosition=c,K}function ee(){var e=document.createElement("canvas").getContext("2d").createImageData(1,1);return e.data[0]=255,e.data[1]=255,e.data[2]=255,e.data[3]=255,e}function te(e,t){var r=t||[],n=256,i=255;return r[0]=Math.floor(e/n/n/n)/i,r[1]=Math.floor(e/n/n)%n/i,r[2]=Math.floor(e/n)%n/i,r[3]=e%n/i,r}function re(e){var t=0,r=256,n=255;return t+=Math.round(e[0]*r*r*r*n),t+=Math.round(e[1]*r*r*n),t+=Math.round(e[2]*r*n),t+=Math.round(e[3]*n)}var ne=J,ie=(B=o("3MevS"),new Uint8Array(4)),oe=function(){function e(e,t){this.helper_=e;var r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){B.equals(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return ie[0]=0,ie[1]=0,ie[2]=0,ie[3]=0,ie;this.readAll();var r=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return ie[0]=this.data_[4*r],ie[1]=this.data_[4*r+1],ie[2]=this.data_[4*r+2],ie[3]=this.data_[4*r+3],ie},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}(),ae=(I=o("5ljS4"),T=o("1mHUI"),o("4lmw7")),se=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),le=URL.createObjectURL(se);M=o("6fegY");var ue=o("3H2uZ"),de=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(e){function t(t,r){var n=this,i=r.uniforms||{},o=I.create();i[C.DefaultUniform.PROJECTION_MATRIX]=o,(n=e.call(this,t,{className:r.className,uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new x(m,y),n.hitVerticesBuffer_=new x(m,y),n.indicesBuffer_=new x(_,y),n.program_=n.helper.getProgram(r.fragmentShader,r.vertexShader),n.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(r.hitFragmentShader,r.hitVertexShader);var a=r.attributes?r.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:C.AttributeType.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:C.AttributeType.FLOAT},{name:"a_index",size:1,type:C.AttributeType.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:C.AttributeType.FLOAT},{name:"a_index",size:1,type:C.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:C.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:C.AttributeType.FLOAT}].concat(a),n.customAttributes=r.attributes?r.attributes:[],n.previousExtent_=ae.createEmpty(),n.currentTransform_=o,n.renderTransform_=I.create(),n.invertRenderTransform_=I.create(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new oe(n.helper),n.worker_=new Worker(le),n.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===A.WebGLWorkerMessageType.GENERATE_BUFFERS){var r=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,I.makeInverse(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[ue.listen(s,p.default.ADDFEATURE,n.handleSourceFeatureAdded_,n),ue.listen(s,p.default.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),ue.listen(s,p.default.REMOVEFEATURE,n.handleSourceFeatureDelete_,n),ue.listen(s,p.default.CLEAR,n.handleSourceFeatureClear_,n)],s.forEachFeature(function(e){this.featureCache_[M.getUid(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(n)),n}return de(t,e),t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[M.getUid(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[M.getUid(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[M.getUid(t)],this.featureCount_--},t.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},t.prototype.renderFrame=function(e){this.preRender(e);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var r=this.helper.getCanvas(),n=e.layerStatesArray[e.layerIndex].opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=String(n)),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),this.postRender(e),r},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),n=e.viewState,i=!e.viewHints[g.default.ANIMATING]&&!e.viewHints[g.default.INTERACTING],o=!ae.equals(this.previousExtent_,e.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(o||a)){var s=n.projection,l=n.resolution,u=t instanceof c.default?t.getRenderBuffer():0,d=ae.buffer(e.extent,u*l);r.loadFeatures(d,l,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),I.multiply(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=I.create();this.helper.makeProjectionTransform(e,t);var r,n,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],l=[],u=0,d=0;for(var f in this.featureCache_)if((n=(r=this.featureCache_[f]).geometry)&&n.getType()===h.default.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],I.apply(t,s),a=A.colorEncodeId(d+6,l),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[d++]=s[0],this.hitRenderInstructions_[d++]=s[1],this.hitRenderInstructions_[d++]=a[0],this.hitRenderInstructions_[d++]=a[1],this.hitRenderInstructions_[d++]=a[2],this.hitRenderInstructions_[d++]=a[3],this.hitRenderInstructions_[d++]=Number(f));for(var c=void 0,p=0;p<this.customAttributes.length;p++)c=this.customAttributes[p].callback(r.feature,r.properties),this.renderInstructions_[u++]=c,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[d++]=c)}var g={type:A.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(g.projectionTransform=t,this.worker_.postMessage(g,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var m={type:A.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};m.projectionTransform=t,m.hitDetection=!0,this.worker_.postMessage(m,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){if(T.assert(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=I.apply(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=[a[0]/255,a[1]/255,a[2]/255,a[3]/255],l=A.colorDecodeId(s),u=this.hitRenderInstructions_[l],d=Math.floor(u).toString(),f=this.getLayer().getSource().getFeatureByUid(d);return f?n(f,this.getLayer(),null):void 0}},t.prototype.renderHitDetection=function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){ue.unlistenByKey(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(A.default),ce=(F=o("6RQ94"),o("4qq0p")),he=o("4eVqD"),pe=o("4ZHam"),ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),me="blur",_e="gradient",ye="radius",ve=["#00f","#0ff","#0f0","#ff0","#f00"];var Se=function(e){function t(t){var r=this,n=t||{},i=F.assign({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=e.call(this,i)||this).gradient_=null,r.addEventListener(pe.getChangeEventType(_e),r.handleGradientChanged_),r.setGradient(n.gradient?n.gradient:ve),r.setBlur(void 0!==n.blur?n.blur:15),r.setRadius(void 0!==n.radius?n.radius:8);var o=n.weight?n.weight:"weight";return r.weightFunction_="string"==typeof o?function(e){return e.get(o)}:o,r.setRenderOrder(null),r}return ge(t,e),t.prototype.getBlur=function(){return this.get(me)},t.prototype.getGradient=function(){return this.get(_e)},t.prototype.getRadius=function(){return this.get(ye)},t.prototype.handleGradientChanged_=function(){this.gradient_=function(e){for(var t=1,r=256,n=he.createCanvasContext2D(t,r),i=n.createLinearGradient(0,0,t,r),o=1/(e.length-1),a=0,s=e.length;a<s;++a)i.addColorStop(a*o,e[a]);return n.fillStyle=i,n.fillRect(0,0,t,r),n.canvas}(this.getGradient())},t.prototype.setBlur=function(e){this.set(me,e)},t.prototype.setGradient=function(e){this.set(_e,e)},t.prototype.setRadius=function(e){this.set(ye,e)},t.prototype.createRenderer=function(){return new d.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?ce.clamp(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(ye)+this.get(me))}.bind(this),u_blurSlope:function(){return this.get(ye)/Math.max(1,this.get(me))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},t.prototype.renderDeclutter=function(){},t}(u.default),Te=o("Lzmdv"),Ee=(I=o("5ljS4"),o("3CnQS")),Pe={};e(Pe,"getDefaultFillStyle",(()=>bt),(e=>bt=e)),e(Pe,"getDefaultStyle",(()=>Dt),(e=>Dt=e)),e(Pe,"getDefaultTextStyle",(()=>Ft),(e=>Ft=e)),e(Pe,"default",(()=>_n),(e=>_n=e)),e(Pe,"getDefaultImageStyle",(()=>Ct),(e=>Ct=e)),e(Pe,"getDefaultStyleArray",(()=>Bt),(e=>Bt=e)),e(Pe,"getDefaultStrokeStyle",(()=>wt),(e=>wt=e)),e(Pe,"readFlatCoordinates",(()=>zt),(e=>zt=e));var xe=o("7JkHi"),Ae=o("6Spvy"),be=o("4eboh"),Re=o("3dG11"),Oe=(h=o("1gVIf"),o("2mZBT")),Ce=o("17PKZ"),Ne=o("67wV0"),ke=o("7oM0w"),we=o("4LOxL"),Le={};e(Le,"default",(()=>Be),(e=>Be=e));h=o("1gVIf");var Fe=o("5g6wp"),Ie=o("2FGG8"),De=(ae=o("4lmw7"),o("6X6IT")),Ue=(B=o("3MevS"),o("5X4hW")),Me=(ce=o("4qq0p"),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Be=function(e){function t(t,r){var n=e.call(this)||this;return r&&!Array.isArray(t[0])?n.setFlatCoordinates(r,t):n.setCoordinates(t,r),n}return Me(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?B.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<ae.closestSquaredDistanceXY(this.getExtent(),e,t))return n;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var l=ce.squaredDistance(e,t,i[a],i[a+1]);if(l<n){n=l;for(var u=0;u<o;++u)r[u]=i[a+u];r.length=o}}return n},t.prototype.getCoordinates=function(){return Ue.inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Fe.default(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,r=this.stride,n=[],i=0,o=e.length;i<o;i+=r){var a=new Fe.default(e.slice(i,i+r),t);n.push(a)}return n},t.prototype.getType=function(){return h.default.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,r=this.stride,n=0,i=t.length;n<i;n+=r){var o=t[n],a=t[n+1];if(ae.containsXY(e,o,a))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=De.deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Ie.default),Ge={};e(Ge,"default",(()=>nt),(e=>nt=e));Re=o("3dG11"),h=o("1gVIf");var je=o("5QgBH"),Ye=(Ie=o("2FGG8"),o("3QyYH")),Xe=(ae=o("4lmw7"),De=o("6X6IT"),B=o("3MevS"),o("39fh1")),ze=(Ue=o("5X4hW"),o("1xC0k")),He=o("2wxLi"),We=o("3B90O");ae=o("4lmw7");var Ve,qe,Je,Ze,Ke,Qe,$e,et=o("3v8bp"),tt=o("4YdW9"),rt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nt=function(e){function t(t,r,n){var i=e.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var o=i.getLayout(),a=t,s=[],l=[],u=0,d=a.length;u<d;++u){var f=a[u];0===u&&(o=f.getLayout());for(var c=s.length,h=f.getEnds(),p=0,g=h.length;p<g;++p)h[p]+=c;B.extend(s,f.getFlatCoordinates()),l.push(h)}r=o,t=s,n=l}return void 0!==r&&n?(i.setFlatCoordinates(r,t),i.endss_=n):i.setCoordinates(t,r),i}return rt(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r=this.flatCoordinates.length;B.extend(this.flatCoordinates,e.getFlatCoordinates());for(var n=0,i=(t=e.getEnds().slice()).length;n<i;++n)t[n]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),n=0;n<e;++n)r[n]=this.endss_[n].slice();var i=new t(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i},t.prototype.closestPointXY=function(e,t,r,n){return n<ae.closestSquaredDistanceXY(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ye.multiArrayMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ye.assignClosestMultiArrayPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return et.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return We.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),He.orientLinearRingsArray(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Ue.inflateMultiCoordinatesArray(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=function(e,t,r,n){for(var i=[],o=ae.createEmpty(),a=0,s=r.length;a<s;++a){var l=r[a];o=ae.createOrUpdateFromFlatCoordinates(e,t,l[0],n),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Xe.getInteriorPointsOfMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new Le.default(this.getFlatInteriorPoints().slice(),Re.default.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;He.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=He.orientLinearRingsArray(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=tt.quantizeMultiArray(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new t(r,Re.default.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var n=this.endss_[e].slice(),i=n[n.length-1];if(0!==t)for(var o=0,a=n.length;o<a;++o)n[o]-=t;return new je.default(this.flatCoordinates.slice(t,i),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),l=s[s.length-1];if(0!==i)for(var u=0,d=s.length;u<d;++u)s[u]-=i;var f=new je.default(t.slice(i,l),e,s);n.push(f),i=l}return n},t.prototype.getType=function(){return h.default.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return ze.intersectsLinearRingMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=De.deflateMultiCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(Ie.default),it=(Fe=o("5g6wp"),je=o("5QgBH"),o("2k3WA")),ot=o("5w8pN"),at=(Ae=o("6Spvy"),o("7iFu4")),st=o("43BI1"),lt=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=st.toSize(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new Ae.default({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:at.default.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=st.toSize(void 0!==e?e:1)},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}(),ut=o("6MnPI"),dt=o("6u7wO"),ft=o("6KuGy"),ct=(T=o("1mHUI"),B=o("3MevS"),o("2vjin")),ht=o("4pjCM"),pt=(ce=o("4qq0p"),o("2rUWQ")),gt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=["http://www.google.com/kml/ext/2.2"],_t=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],yt={fraction:Ce.default.FRACTION,pixels:Ce.default.PIXELS,insetPixels:Ce.default.PIXELS},vt=dt.makeStructureNS(_t,{ExtendedData:Tr,Region:Er,MultiGeometry:dt.makeObjectPropertySetter(cr,"geometry"),LineString:dt.makeObjectPropertySetter(ur,"geometry"),LinearRing:dt.makeObjectPropertySetter(dr,"geometry"),Point:dt.makeObjectPropertySetter(hr,"geometry"),Polygon:dt.makeObjectPropertySetter(gr,"geometry"),Style:dt.makeObjectPropertySetter(_r),StyleMap:function(e,t){var r=Jt.call(this,e,t);if(!r)return;var n=t[t.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:T.assert(!1,38)},address:dt.makeObjectPropertySetter(ht.readString),description:dt.makeObjectPropertySetter(ht.readString),name:dt.makeObjectPropertySetter(ht.readString),open:dt.makeObjectPropertySetter(ht.readBoolean),phoneNumber:dt.makeObjectPropertySetter(ht.readString),styleUrl:dt.makeObjectPropertySetter(Wt),visibility:dt.makeObjectPropertySetter(ht.readBoolean)},dt.makeStructureNS(mt,{MultiTrack:dt.makeObjectPropertySetter((function(e,t){var r=dt.pushParseAndPop([],rr,e,t);return r?new we.default(r):void 0}),"geometry"),Track:dt.makeObjectPropertySetter(ir,"geometry")})),St=dt.makeStructureNS(_t,{ExtendedData:Tr,Region:Er,Link:function(e,t){dt.parseNode(Tt,e,t)},address:dt.makeObjectPropertySetter(ht.readString),description:dt.makeObjectPropertySetter(ht.readString),name:dt.makeObjectPropertySetter(ht.readString),open:dt.makeObjectPropertySetter(ht.readBoolean),phoneNumber:dt.makeObjectPropertySetter(ht.readString),visibility:dt.makeObjectPropertySetter(ht.readBoolean)}),Tt=dt.makeStructureNS(_t,{href:dt.makeObjectPropertySetter(Ht)}),Et=dt.makeStructureNS(_t,{LatLonAltBox:function(e,t){var r=dt.pushParseAndPop({},Ar,e,t);if(!r)return;var n=t[t.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=i,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(e,t){var r=dt.pushParseAndPop({},br,e,t);if(!r)return;var n=t[t.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),Pt=dt.makeStructureNS(_t,["Document","Placemark"]),xt=dt.makeStructureNS(_t,{Document:dt.makeChildAppender((function(e,t,r){var n={node:e};dt.pushSerializeAndPop(n,kr,wr,t,r,void 0,this)})),Placemark:dt.makeChildAppender(rn)}),At=null;function bt(){return At}var Rt,Ot=null;function Ct(){return Ot}var Nt,kt=null;function wt(){return kt}var Lt=null;function Ft(){return Lt}var It=null;function Dt(){return It}var Ut,Mt=null;function Bt(){return Mt}function Gt(e){return e}var jt=function(e){function t(t){var r=e.call(this)||this,n=t||{};return Mt||(Ve=[255,255,255,1],At=new Ae.default({color:Ve}),qe=[20,2],Je=Ce.default.PIXELS,Ze=Ce.default.PIXELS,Ke=[64,64],Qe="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",$e=.5,Ot=new Oe.default({anchor:qe,anchorOrigin:Ne.default.BOTTOM_LEFT,anchorXUnits:Je,anchorYUnits:Ze,crossOrigin:"anonymous",rotation:0,scale:$e,size:Ke,src:Qe}),Rt="NO_IMAGE",kt=new it.default({color:Ve,width:1}),Nt=new it.default({color:[51,51,51,1],width:2}),Lt=new lt({font:"bold 16px Helvetica",fill:At,stroke:Nt,scale:.8}),It=new ot.default({fill:At,image:Ot,text:Lt,stroke:kt,zIndex:0}),Mt=[It]),r.dataProjection=ct.get("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:Mt,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r.iconUrlFunction_=n.iconUrlFunction?n.iconUrlFunction:Gt,r}return gt(t,e),t.prototype.readDocumentOrFolder_=function(e,t){var r=dt.makeStructureNS(_t,{Document:dt.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:dt.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:dt.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=dt.pushParseAndPop([],r,e,t,this);return n||void 0},t.prototype.readPlacemark_=function(e,t){var r=dt.pushParseAndPop({geometry:null},vt,e,t,this);if(r){var n=new xe.default,i=e.getAttribute("id");null!==i&&n.setId(i);var o=t[0],a=r.geometry;if(a&&pt.transformGeometryWithOptions(a,!1,o),n.setGeometry(a),delete r.geometry,this.extractStyles_){var s=function(e,t,r,n,i){return function(o,a){var s=i,l="",u=[];if(s){var d=o.getGeometry();if(d){var f=d.getType();s=f===h.default.GEOMETRY_COLLECTION?(u=d.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===h.default.POINT||t===h.default.MULTI_POINT}))).length>0:f===h.default.POINT||f===h.default.MULTI_POINT}}s&&(l=o.get("name"),(s=s&&!!l)&&l.search(/&[^&]+;/)>-1&&(Ut||(Ut=document.createElement("textarea")),Ut.innerHTML=l,l=Ut.value));var c=r;if(e?c=e:t&&(c=Yt(t,r,n)),s){var p=function(e,t){var r=[0,0],n="start",i=e.getImage();if(i){var o=i.getImageSize();if(null===o&&(o=Ke),2==o.length){var a=i.getScaleArray();r[0]=a[0]*o[0]/2,r[1]=-a[1]*o[1]/2,n="left"}}var s=e.getText();s?((s=s.clone()).setFont(s.getFont()||Lt.getFont()),s.setScale(s.getScale()||Lt.getScale()),s.setFill(s.getFill()||Lt.getFill()),s.setStroke(s.getStroke()||Nt)):s=Lt.clone();return s.setText(t),s.setOffsetX(r[0]),s.setOffsetY(r[1]),s.setTextAlign(n),new ot.default({image:i,text:s})}(c[0],l);return u.length>0?(p.setGeometry(new be.default(u)),[p,new ot.default({geometry:c[0].getGeometry(),image:null,fill:c[0].getFill(),stroke:c[0].getStroke(),text:null})].concat(c.slice(1))):p}return c}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(s)}return delete r.Style,n.setProperties(r,!0),n}},t.prototype.readSharedStyle_=function(e,t){var r=e.getAttribute("id");if(null!==r){var n=_r.call(this,e,t);if(n){var i=void 0,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},t.prototype.readSharedStyleMap_=function(e,t){var r=e.getAttribute("id");if(null!==r){var n=Jt.call(this,e,t);if(n){var i,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},t.prototype.readFeatureFromNode=function(e,t){if(!B.includes(_t,e.namespaceURI))return null;var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r||null},t.prototype.readFeaturesFromNode=function(e,t){if(!B.includes(_t,e.namespaceURI))return[];var r,n=e.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==n){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return i?[i]:[]}if("kml"==n){r=[];for(var o=e.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,t);a&&B.extend(r,a)}return r}return[]},t.prototype.readName=function(e){if(e){if("string"==typeof e){var t=dt.parse(e);return this.readNameFromDocument(t)}return dt.isDocument(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}},t.prototype.readNameFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(t);if(r)return r}},t.prototype.readNameFromNode=function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(B.includes(_t,t.namespaceURI)&&"name"==t.localName)return ht.readString(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(B.includes(_t,t.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(t);if(n)return n}}},t.prototype.readNetworkLinks=function(e){var t=[];if("string"==typeof e){var r=dt.parse(e);B.extend(t,this.readNetworkLinksFromDocument(r))}else dt.isDocument(e)?B.extend(t,this.readNetworkLinksFromDocument(e)):B.extend(t,this.readNetworkLinksFromNode(e));return t},t.prototype.readNetworkLinksFromDocument=function(e){for(var t=[],r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&B.extend(t,this.readNetworkLinksFromNode(r));return t},t.prototype.readNetworkLinksFromNode=function(e){for(var t=[],r=e.firstElementChild;r;r=r.nextElementSibling)if(B.includes(_t,r.namespaceURI)&&"NetworkLink"==r.localName){var n=dt.pushParseAndPop({},St,r,[]);t.push(n)}for(r=e.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!B.includes(_t,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||B.extend(t,this.readNetworkLinksFromNode(r))}return t},t.prototype.readRegion=function(e){var t=[];if("string"==typeof e){var r=dt.parse(e);B.extend(t,this.readRegionFromDocument(r))}else dt.isDocument(e)?B.extend(t,this.readRegionFromDocument(e)):B.extend(t,this.readRegionFromNode(e));return t},t.prototype.readRegionFromDocument=function(e){for(var t=[],r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&B.extend(t,this.readRegionFromNode(r));return t},t.prototype.readRegionFromNode=function(e){for(var t=[],r=e.firstElementChild;r;r=r.nextElementSibling)if(B.includes(_t,r.namespaceURI)&&"Region"==r.localName){var n=dt.pushParseAndPop({},Et,r,[]);t.push(n)}for(r=e.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!B.includes(_t,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||B.extend(t,this.readRegionFromNode(r))}return t},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=dt.createElementNS(_t[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",mt[0]),r.setAttributeNS(n,"xmlns:xsi",dt.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(dt.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:r},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);var a=Pt[r.namespaceURI],s=dt.makeSequence(o,a);return dt.pushSerializeAndPop(i,xt,dt.OBJECT_PROPERTY_NODE_FACTORY,s,[t],a,this),r},t}(ut.default);function Yt(e,t,r){return Array.isArray(e)?e:"string"==typeof e?Yt(r[e],t,r):t}function Xt(e){var t=dt.getAllTextContent(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function zt(e){var t=dt.getAllTextContent(e,!1),r=[];t=t.replace(/\s*,\s*/g,",");for(var n,i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;n=i.exec(t);){var o=parseFloat(n[1]),a=parseFloat(n[2]),s=n[3]?parseFloat(n[3]):0;r.push(o,a,s),t=t.substr(n[0].length)}if(""===t)return r}function Ht(e){var t=dt.getAllTextContent(e,!1).trim(),r=e.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(t,r).href:t}function Wt(e){var t=dt.getAllTextContent(e,!1).trim().replace(/^(?!.*#)/,"#"),r=e.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(t,r).href:t}function Vt(e){return ht.readDecimal(e)}var qt=dt.makeStructureNS(_t,{Pair:function(e,t){var r=dt.pushParseAndPop({},Pr,e,t,this);if(!r)return;var n=r.key;if(n&&"normal"==n){var i=r.styleUrl;i&&(t[t.length-1]=i);var o=r.Style;o&&(t[t.length-1]=o)}}});function Jt(e,t){return dt.pushParseAndPop(void 0,qt,e,t,this)}var Zt=dt.makeStructureNS(_t,{Icon:dt.makeObjectPropertySetter((function(e,t){var r=dt.pushParseAndPop({},or,e,t);return r||null})),color:dt.makeObjectPropertySetter(Xt),heading:dt.makeObjectPropertySetter(ht.readDecimal),hotSpot:dt.makeObjectPropertySetter((function(e){var t,r=e.getAttribute("xunits"),n=e.getAttribute("yunits");return t="insetPixels"!==r?"insetPixels"!==n?Ne.default.BOTTOM_LEFT:Ne.default.TOP_LEFT:"insetPixels"!==n?Ne.default.BOTTOM_RIGHT:Ne.default.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:yt[r],y:parseFloat(e.getAttribute("y")),yunits:yt[n],origin:t}})),scale:dt.makeObjectPropertySetter(Vt)});var Kt=dt.makeStructureNS(_t,{color:dt.makeObjectPropertySetter(Xt),scale:dt.makeObjectPropertySetter(Vt)});var Qt=dt.makeStructureNS(_t,{color:dt.makeObjectPropertySetter(Xt),width:dt.makeObjectPropertySetter(ht.readDecimal)});var $t=dt.makeStructureNS(_t,{color:dt.makeObjectPropertySetter(Xt),fill:dt.makeObjectPropertySetter(ht.readBoolean),outline:dt.makeObjectPropertySetter(ht.readBoolean)});var er=dt.makeStructureNS(_t,{coordinates:dt.makeReplacer(zt)});function tr(e,t){return dt.pushParseAndPop(null,er,e,t)}var rr=dt.makeStructureNS(mt,{Track:dt.makeArrayPusher(ir)});var nr=dt.makeStructureNS(_t,{when:function(e,t){var r=t[t.length-1].whens,n=dt.getAllTextContent(e,!1),i=Date.parse(n);r.push(isNaN(i)?0:i)}},dt.makeStructureNS(mt,{coord:function(e,t){var r=t[t.length-1].flatCoordinates,n=dt.getAllTextContent(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);r.push(o,a,s,0)}else r.push(0,0,0,0)}}));function ir(e,t){var r=dt.pushParseAndPop({flatCoordinates:[],whens:[]},nr,e,t);if(r){for(var n=r.flatCoordinates,i=r.whens,o=0,a=Math.min(n.length,i.length);o<a;++o)n[4*o+3]=i[o];return new ke.default(n,Re.default.XYZM)}}var or=dt.makeStructureNS(_t,{href:dt.makeObjectPropertySetter(Ht)},dt.makeStructureNS(mt,{x:dt.makeObjectPropertySetter(ht.readDecimal),y:dt.makeObjectPropertySetter(ht.readDecimal),w:dt.makeObjectPropertySetter(ht.readDecimal),h:dt.makeObjectPropertySetter(ht.readDecimal)}));var ar=dt.makeStructureNS(_t,{coordinates:dt.makeReplacer(zt)});function sr(e,t){return dt.pushParseAndPop(null,ar,e,t)}var lr=dt.makeStructureNS(_t,{extrude:dt.makeObjectPropertySetter(ht.readBoolean),tessellate:dt.makeObjectPropertySetter(ht.readBoolean),altitudeMode:dt.makeObjectPropertySetter(ht.readString)});function ur(e,t){var r=dt.pushParseAndPop({},lr,e,t),n=sr(e,t);if(n){var i=new ke.default(n,Re.default.XYZ);return i.setProperties(r,!0),i}}function dr(e,t){var r=dt.pushParseAndPop({},lr,e,t),n=sr(e,t);if(n){var i=new je.default(n,Re.default.XYZ,[n.length]);return i.setProperties(r,!0),i}}var fr=dt.makeStructureNS(_t,{LineString:dt.makeArrayPusher(ur),LinearRing:dt.makeArrayPusher(dr),MultiGeometry:dt.makeArrayPusher(cr),Point:dt.makeArrayPusher(hr),Polygon:dt.makeArrayPusher(gr)});function cr(e,t){var r,n=dt.pushParseAndPop([],fr,e,t);if(!n)return null;if(0===n.length)return new be.default(n);for(var i,o=!0,a=n[0].getType(),s=1,l=n.length;s<l;++s)if((i=n[s]).getType()!=a){o=!1;break}if(o){var u=void 0,d=void 0;if(a==h.default.POINT){var f=n[0];u=f.getLayout(),d=f.getFlatCoordinates();for(s=1,l=n.length;s<l;++s)i=n[s],B.extend(d,i.getFlatCoordinates());yr(r=new Le.default(d,u),n)}else a==h.default.LINE_STRING?yr(r=new we.default(n),n):a==h.default.POLYGON?yr(r=new Ge.default(n),n):a==h.default.GEOMETRY_COLLECTION?r=new be.default(n):T.assert(!1,37)}else r=new be.default(n);return r}function hr(e,t){var r=dt.pushParseAndPop({},lr,e,t),n=sr(e,t);if(n){var i=new Fe.default(n,Re.default.XYZ);return i.setProperties(r,!0),i}}var pr=dt.makeStructureNS(_t,{innerBoundaryIs:function(e,t){var r=dt.pushParseAndPop(void 0,Rr,e,t);if(r){t[t.length-1].push(r)}},outerBoundaryIs:function(e,t){var r=dt.pushParseAndPop(void 0,Or,e,t);if(r){t[t.length-1][0]=r}}});function gr(e,t){var r=dt.pushParseAndPop({},lr,e,t),n=dt.pushParseAndPop([null],pr,e,t);if(n&&n[0]){for(var i=n[0],o=[i.length],a=1,s=n.length;a<s;++a)B.extend(i,n[a]),o.push(i.length);var l=new je.default(i,Re.default.XYZ,o);return l.setProperties(r,!0),l}}var mr=dt.makeStructureNS(_t,{IconStyle:function(e,t){var r=dt.pushParseAndPop({},Zt,e,t);if(r){var n,i,o,a,s=t[t.length-1],l="Icon"in r?r.Icon:{},u=!("Icon"in r)||Object.keys(l).length>0,d=l.href;d?n=d:u&&(n=Qe);var f,c=Ne.default.BOTTOM_LEFT,h=r.hotSpot;h?(i=[h.x,h.y],o=h.xunits,a=h.yunits,c=h.origin):n===Qe?(i=qe,o=Je,a=Ze):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(i=[.5,0],o=Ce.default.FRACTION,a=Ce.default.FRACTION);var p,g=l.x,m=l.y;void 0!==g&&void 0!==m&&(f=[g,m]);var _,y=l.w,v=l.h;void 0!==y&&void 0!==v&&(p=[y,v]);var S=r.heading;void 0!==S&&(_=ce.toRadians(S));var T=r.scale,E=r.color;if(u){n==Qe&&(p=Ke,void 0===T&&(T=$e));var P=new Oe.default({anchor:i,anchorOrigin:c,anchorXUnits:o,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:f,offsetOrigin:Ne.default.BOTTOM_LEFT,rotation:_,scale:T,size:p,src:this.iconUrlFunction_(n),color:E});s.imageStyle=P}else s.imageStyle=Rt}},LabelStyle:function(e,t){var r=dt.pushParseAndPop({},Kt,e,t);if(r){var n=t[t.length-1],i=new lt({fill:new Ae.default({color:"color"in r?r.color:Ve}),scale:r.scale});n.textStyle=i}},LineStyle:function(e,t){var r=dt.pushParseAndPop({},Qt,e,t);if(r){var n=t[t.length-1],i=new it.default({color:"color"in r?r.color:Ve,width:"width"in r?r.width:1});n.strokeStyle=i}},PolyStyle:function(e,t){var r=dt.pushParseAndPop({},$t,e,t);if(r){var n=t[t.length-1],i=new Ae.default({color:"color"in r?r.color:Ve});n.fillStyle=i;var o=r.fill;void 0!==o&&(n.fill=o);var a=r.outline;void 0!==a&&(n.outline=a)}}});function _r(e,t){var r=dt.pushParseAndPop({},mr,e,t,this);if(!r)return null;var n,i="fillStyle"in r?r.fillStyle:At,o=r.fill;void 0===o||o||(i=null),"imageStyle"in r?r.imageStyle!=Rt&&(n=r.imageStyle):n=Ot;var a="textStyle"in r?r.textStyle:Lt,s="strokeStyle"in r?r.strokeStyle:kt,l=r.outline;return void 0===l||l?[new ot.default({fill:i,image:n,stroke:s,text:a,zIndex:void 0})]:[new ot.default({geometry:function(e){var t=e.getGeometry(),r=t.getType();return r===h.default.GEOMETRY_COLLECTION?new be.default(t.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t!==h.default.POLYGON&&t!==h.default.MULTI_POLYGON}))):r!==h.default.POLYGON&&r!==h.default.MULTI_POLYGON?t:void 0},fill:i,image:n,stroke:s,text:a,zIndex:void 0}),new ot.default({geometry:function(e){var t=e.getGeometry(),r=t.getType();return r===h.default.GEOMETRY_COLLECTION?new be.default(t.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===h.default.POLYGON||t===h.default.MULTI_POLYGON}))):r===h.default.POLYGON||r===h.default.MULTI_POLYGON?t:void 0},fill:i,stroke:null,zIndex:void 0})]}function yr(e,t){var r,n,i,o=t.length,a=new Array(t.length),s=new Array(t.length),l=new Array(t.length);r=!1,n=!1,i=!1;for(var u=0;u<o;++u){var d=t[u];a[u]=d.get("extrude"),s[u]=d.get("tessellate"),l[u]=d.get("altitudeMode"),r=r||void 0!==a[u],n=n||void 0!==s[u],i=i||l[u]}r&&e.set("extrude",a),n&&e.set("tessellate",s),i&&e.set("altitudeMode",l)}var vr=dt.makeStructureNS(_t,{displayName:dt.makeObjectPropertySetter(ht.readString),value:dt.makeObjectPropertySetter(ht.readString)});var Sr=dt.makeStructureNS(_t,{Data:function(e,t){var r=e.getAttribute("name");dt.parseNode(vr,e,t);var n=t[t.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(e,t){dt.parseNode(xr,e,t)}});function Tr(e,t){dt.parseNode(Sr,e,t)}function Er(e,t){dt.parseNode(Et,e,t)}var Pr=dt.makeStructureNS(_t,{Style:dt.makeObjectPropertySetter(_r),key:dt.makeObjectPropertySetter(ht.readString),styleUrl:dt.makeObjectPropertySetter(Wt)});var xr=dt.makeStructureNS(_t,{SimpleData:function(e,t){var r=e.getAttribute("name");if(null!==r){var n=ht.readString(e);t[t.length-1][r]=n}}});var Ar=dt.makeStructureNS(_t,{altitudeMode:dt.makeObjectPropertySetter(ht.readString),minAltitude:dt.makeObjectPropertySetter(ht.readDecimal),maxAltitude:dt.makeObjectPropertySetter(ht.readDecimal),north:dt.makeObjectPropertySetter(ht.readDecimal),south:dt.makeObjectPropertySetter(ht.readDecimal),east:dt.makeObjectPropertySetter(ht.readDecimal),west:dt.makeObjectPropertySetter(ht.readDecimal)});var br=dt.makeStructureNS(_t,{minLodPixels:dt.makeObjectPropertySetter(ht.readDecimal),maxLodPixels:dt.makeObjectPropertySetter(ht.readDecimal),minFadeExtent:dt.makeObjectPropertySetter(ht.readDecimal),maxFadeExtent:dt.makeObjectPropertySetter(ht.readDecimal)});var Rr=dt.makeStructureNS(_t,{LinearRing:dt.makeReplacer(tr)});var Or=dt.makeStructureNS(_t,{LinearRing:dt.makeReplacer(tr)});function Cr(e,t){for(var r=ft.asArray(t),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],i=0;i<4;++i){var o=Math.floor(n[i]).toString(16);n[i]=1==o.length?"0"+o:o}ht.writeStringTextNode(e,n.join(""))}var Nr=dt.makeStructureNS(_t,{Data:dt.makeChildAppender((function(e,t,r){e.setAttribute("name",t.name);var n={node:e},i=t.value;"object"==typeof i?(null!==i&&i.displayName&&dt.pushSerializeAndPop(n,Nr,dt.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],r,["displayName"]),null!==i&&i.value&&dt.pushSerializeAndPop(n,Nr,dt.OBJECT_PROPERTY_NODE_FACTORY,[i.value],r,["value"])):dt.pushSerializeAndPop(n,Nr,dt.OBJECT_PROPERTY_NODE_FACTORY,[i],r,["value"])})),value:dt.makeChildAppender((function(e,t){ht.writeStringTextNode(e,t)})),displayName:dt.makeChildAppender((function(e,t){ht.writeCDATASection(e,t)}))});var kr=dt.makeStructureNS(_t,{Placemark:dt.makeChildAppender(rn)}),wr=function(e,t,r){var n=t[t.length-1].node;return dt.createElementNS(n.namespaceURI,"Placemark")};var Lr=dt.makeSimpleNodeFactory("Data");var Fr=dt.makeStructureNS(_t,["href"],dt.makeStructureNS(mt,["x","y","w","h"])),Ir=dt.makeStructureNS(_t,{href:dt.makeChildAppender(ht.writeStringTextNode)},dt.makeStructureNS(mt,{x:dt.makeChildAppender(ht.writeDecimalTextNode),y:dt.makeChildAppender(ht.writeDecimalTextNode),w:dt.makeChildAppender(ht.writeDecimalTextNode),h:dt.makeChildAppender(ht.writeDecimalTextNode)})),Dr=function(e,t,r){return dt.createElementNS(mt[0],"gx:"+r)};var Ur=dt.makeStructureNS(_t,["scale","heading","Icon","color","hotSpot"]),Mr=dt.makeStructureNS(_t,{Icon:dt.makeChildAppender((function(e,t,r){var n={node:e},i=r[r.length-1].node,o=Fr[i.namespaceURI],a=dt.makeSequence(t,o);dt.pushSerializeAndPop(n,Ir,dt.OBJECT_PROPERTY_NODE_FACTORY,a,r,o),o=Fr[mt[0]],a=dt.makeSequence(t,o),dt.pushSerializeAndPop(n,Ir,Dr,a,r,o)})),color:dt.makeChildAppender(Cr),heading:dt.makeChildAppender(ht.writeDecimalTextNode),hotSpot:dt.makeChildAppender((function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)})),scale:dt.makeChildAppender(hn)});var Br=dt.makeStructureNS(_t,["color","scale"]),Gr=dt.makeStructureNS(_t,{color:dt.makeChildAppender(Cr),scale:dt.makeChildAppender(hn)});var jr=dt.makeStructureNS(_t,["color","width"]),Yr=dt.makeStructureNS(_t,{color:dt.makeChildAppender(Cr),width:dt.makeChildAppender(ht.writeDecimalTextNode)});var Xr={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},zr=function(e,t,r){if(e){var n=t[t.length-1].node;return dt.createElementNS(n.namespaceURI,Xr[e.getType()])}},Hr=dt.makeSimpleNodeFactory("Point"),Wr=dt.makeSimpleNodeFactory("LineString"),Vr=dt.makeSimpleNodeFactory("LinearRing"),qr=dt.makeSimpleNodeFactory("Polygon"),Jr=dt.makeStructureNS(_t,{LineString:dt.makeChildAppender(an),Point:dt.makeChildAppender(an),Polygon:dt.makeChildAppender(fn),GeometryCollection:dt.makeChildAppender(Zr)});function Zr(e,t,r){var n,i={node:e},o=t.getType(),a=[];o===h.default.GEOMETRY_COLLECTION?(t.getGeometriesArrayRecursive().forEach((function(e){var t=e.getType();t===h.default.MULTI_POINT?a=a.concat(e.getPoints()):t===h.default.MULTI_LINE_STRING?a=a.concat(e.getLineStrings()):t===h.default.MULTI_POLYGON?a=a.concat(e.getPolygons()):t===h.default.POINT||t===h.default.LINE_STRING||t===h.default.POLYGON?a.push(e):T.assert(!1,39)})),n=zr):o===h.default.MULTI_POINT?(a=t.getPoints(),n=Hr):o===h.default.MULTI_LINE_STRING?(a=t.getLineStrings(),n=Wr):o===h.default.MULTI_POLYGON?(a=t.getPolygons(),n=qr):T.assert(!1,39),dt.pushSerializeAndPop(i,Jr,n,a,r)}var Kr=dt.makeStructureNS(_t,{LinearRing:dt.makeChildAppender(an)});function Qr(e,t,r){var n={node:e};dt.pushSerializeAndPop(n,Kr,Vr,[t],r)}var $r=dt.makeStructureNS(_t,{ExtendedData:dt.makeChildAppender((function(e,t,r){for(var n={node:e},i=t.names,o=t.values,a=i.length,s=0;s<a;s++)dt.pushSerializeAndPop(n,Nr,Lr,[{name:i[s],value:o[s]}],r)})),MultiGeometry:dt.makeChildAppender(Zr),LineString:dt.makeChildAppender(an),LinearRing:dt.makeChildAppender(an),Point:dt.makeChildAppender(an),Polygon:dt.makeChildAppender(fn),Style:dt.makeChildAppender((function(e,t,r){var n={node:e},i={};if(t.pointStyles.length){var o=t.pointStyles[0].getText();o&&(i.LabelStyle=o);var a=t.pointStyles[0].getImage();a&&"function"==typeof a.getSrc&&(i.IconStyle=a)}if(t.lineStyles.length){(s=t.lineStyles[0].getStroke())&&(i.LineStyle=s)}if(t.polyStyles.length){var s;(s=t.polyStyles[0].getStroke())&&!i.LineStyle&&(i.LineStyle=s),i.PolyStyle=t.polyStyles[0]}var l=r[r.length-1].node,u=pn[l.namespaceURI],d=dt.makeSequence(i,u);dt.pushSerializeAndPop(n,gn,dt.OBJECT_PROPERTY_NODE_FACTORY,d,r,u)})),address:dt.makeChildAppender(ht.writeStringTextNode),description:dt.makeChildAppender(ht.writeStringTextNode),name:dt.makeChildAppender(ht.writeStringTextNode),open:dt.makeChildAppender(ht.writeBooleanTextNode),phoneNumber:dt.makeChildAppender(ht.writeStringTextNode),styleUrl:dt.makeChildAppender(ht.writeStringTextNode),visibility:dt.makeChildAppender(ht.writeBooleanTextNode)}),en=dt.makeStructureNS(_t,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),tn=dt.makeSimpleNodeFactory("ExtendedData");function rn(e,t,r){var n={node:e};t.getId()&&e.setAttribute("id",t.getId());var i=t.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[t.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter((function(e){return!o[e]})),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var u=Array.isArray(l)?l:[l],d=u;if(t.getGeometry()&&(d=u.filter((function(e){var r=e.getGeometryFunction()(t);if(r){var n=r.getType();return n===h.default.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===h.default.POINT||t===h.default.MULTI_POINT})).length:n===h.default.POINT||n===h.default.MULTI_POINT}}))),this.writeStyles_){var f=u,c=u;t.getGeometry()&&(f=u.filter((function(e){var r=e.getGeometryFunction()(t);if(r){var n=r.getType();return n===h.default.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===h.default.LINE_STRING||t===h.default.MULTI_LINE_STRING})).length:n===h.default.LINE_STRING||n===h.default.MULTI_LINE_STRING}})),c=u.filter((function(e){var r=e.getGeometryFunction()(t);if(r){var n=r.getType();return n===h.default.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===h.default.POLYGON||t===h.default.MULTI_POLYGON})).length:n===h.default.POLYGON||n===h.default.MULTI_POLYGON}}))),i.Style={pointStyles:d,lineStyles:f,polyStyles:c}}if(d.length&&void 0===i.name){var p=d[0].getText();p&&(i.name=p.getText())}}}var g=r[r.length-1].node,m=en[g.namespaceURI],_=dt.makeSequence(i,m);if(dt.pushSerializeAndPop(n,$r,dt.OBJECT_PROPERTY_NODE_FACTORY,_,r,m),a.length>0){var y={names:a,values:dt.makeSequence(i,a)};dt.pushSerializeAndPop(n,$r,tn,[y],r)}var v=r[0],S=t.getGeometry();S&&(S=pt.transformGeometryWithOptions(S,!0,v)),dt.pushSerializeAndPop(n,$r,zr,[S],r)}var nn=dt.makeStructureNS(_t,["extrude","tessellate","altitudeMode","coordinates"]),on=dt.makeStructureNS(_t,{extrude:dt.makeChildAppender(ht.writeBooleanTextNode),tessellate:dt.makeChildAppender(ht.writeBooleanTextNode),altitudeMode:dt.makeChildAppender(ht.writeStringTextNode),coordinates:dt.makeChildAppender((function(e,t,r){var n,i=r[r.length-1],o=i.layout,a=i.stride;o==Re.default.XY||o==Re.default.XYM?n=2:o==Re.default.XYZ||o==Re.default.XYZM?n=3:T.assert(!1,34);var s=t.length,l="";if(s>0){l+=t[0];for(var u=1;u<n;++u)l+=","+t[u];for(var d=a;d<s;d+=a){l+=" "+t[d];for(u=1;u<n;++u)l+=","+t[d+u]}}ht.writeStringTextNode(e,l)}))});function an(e,t,r){var n=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout(),i.stride=t.getStride();var o=t.getProperties();o.coordinates=n;var a=r[r.length-1].node,s=nn[a.namespaceURI],l=dt.makeSequence(o,s);dt.pushSerializeAndPop(i,on,dt.OBJECT_PROPERTY_NODE_FACTORY,l,r,s)}var sn=dt.makeStructureNS(_t,["color","fill","outline"]),ln=dt.makeStructureNS(_t,{outerBoundaryIs:dt.makeChildAppender(Qr),innerBoundaryIs:dt.makeChildAppender(Qr)}),un=dt.makeSimpleNodeFactory("innerBoundaryIs"),dn=dt.makeSimpleNodeFactory("outerBoundaryIs");function fn(e,t,r){var n=t.getLinearRings(),i=n.shift(),o={node:e};dt.pushSerializeAndPop(o,ln,un,n,r),dt.pushSerializeAndPop(o,ln,dn,[i],r)}var cn=dt.makeStructureNS(_t,{color:dt.makeChildAppender(Cr),fill:dt.makeChildAppender(ht.writeBooleanTextNode),outline:dt.makeChildAppender(ht.writeBooleanTextNode)});function hn(e,t){ht.writeDecimalTextNode(e,Math.round(1e6*t)/1e6)}var pn=dt.makeStructureNS(_t,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),gn=dt.makeStructureNS(_t,{IconStyle:dt.makeChildAppender((function(e,t,r){var n={node:e},i={},o=t.getSrc(),a=t.getSize(),s=t.getImageSize(),l={href:o};if(a){l.w=a[0],l.h=a[1];var u=t.getAnchor(),d=t.getOrigin();if(d&&s&&0!==d[0]&&d[1]!==a[1]&&(l.x=d[0],l.y=s[1]-(d[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var f={x:u[0],xunits:Ce.default.PIXELS,y:a[1]-u[1],yunits:Ce.default.PIXELS};i.hotSpot=f}}i.Icon=l;var c=t.getScale();1!==c&&(i.scale=c);var h=t.getRotation();0!==h&&(i.heading=h);var p=t.getColor();p&&(i.color=p);var g=r[r.length-1].node,m=Ur[g.namespaceURI],_=dt.makeSequence(i,m);dt.pushSerializeAndPop(n,Mr,dt.OBJECT_PROPERTY_NODE_FACTORY,_,r,m)})),LabelStyle:dt.makeChildAppender((function(e,t,r){var n={node:e},i={},o=t.getFill();o&&(i.color=o.getColor());var a=t.getScale();a&&1!==a&&(i.scale=a);var s=r[r.length-1].node,l=Br[s.namespaceURI],u=dt.makeSequence(i,l);dt.pushSerializeAndPop(n,Gr,dt.OBJECT_PROPERTY_NODE_FACTORY,u,r,l)})),LineStyle:dt.makeChildAppender((function(e,t,r){var n={node:e},i={color:t.getColor(),width:Number(t.getWidth())||1},o=r[r.length-1].node,a=jr[o.namespaceURI],s=dt.makeSequence(i,a);dt.pushSerializeAndPop(n,Yr,dt.OBJECT_PROPERTY_NODE_FACTORY,s,r,a)})),PolyStyle:dt.makeChildAppender((function(e,t,r){var n={node:e},i=t.getFill(),o=t.getStroke(),a={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},s=r[r.length-1].node,l=sn[s.namespaceURI],u=dt.makeSequence(a,l);dt.pushSerializeAndPop(n,cn,dt.OBJECT_PROPERTY_NODE_FACTORY,u,r,l)}))});var mn,_n=jt;o.register("31oBo",(function(t,r){var n;e(t.exports,"getBundleURL",(()=>n),(e=>n=e));var i=null;function o(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(){return i||(i=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return o(e[0])}return"/"}()),i}})),o.register("3XRD4",(function(e,t){"use strict";var r=o("3OOJ5").resolve;function n(e){if(""===e)return".";var t="/"===e[e.length-1]?e.slice(0,e.length-1):e,r=t.lastIndexOf("/");return-1===r?".":t.slice(0,r)}function i(e,t){if(e===t)return"";var r=e.split("/");"."===r[0]&&r.shift();var n,i,o=t.split("/");for("."===o[0]&&o.shift(),n=0;(n<o.length||n<r.length)&&null==i;n++)r[n]!==o[n]&&(i=n);var a=[];for(n=0;n<r.length-i;n++)a.push("..");return o.length>i&&a.push.apply(a,o.slice(i)),a.join("/")}e.exports=function(e,t){return i(n(r(e)),r(t))},e.exports._dirname=n,e.exports._relative=i})),mn=o("31oBo").getBundleURL()+o("3XRD4")("3Wo4N","oaxmK");var yn;yn=o("31oBo").getBundleURL()+o("3XRD4")("3Wo4N","6la4e");var vn=new a.default({target:"map",view:new s.default({center:[0,0],extent:[-180,-90,180,90],projection:"EPSG:4326",zoom:2})});const Sn=new l.default({source:new Ee.default({url:t(yn),format:new Pe.default({extractStyles:!1})})});vn.addLayer(Sn);var Tn=document.createElement("div"),En=new XMLHttpRequest;console.log(t(mn)),En.open("GET",t(mn)),En.addEventListener("load",(function(){var e=En.responseXML.documentElement;Tn.ownerDocument.importNode(e,!1),Tn.appendChild(e)})),En.send();var Pn=.140625;Tn.style.width="2560px",Tn.style.height="1280px",Tn.style.transformOrigin="top left",Tn.style.position="absolute",Tn.className="svg-layer";const xn=new Te.default({render:function(e){var t=Pn/e.viewState.resolution,r=e.viewState.center,n=e.size,i=I.composeCssTransform(n[0]/2,n[1]/2,t,t,e.viewState.rotation,-r[0]/Pn-1280,r[1]/Pn-640);return Tn.style.transform=i,Tn.style.opacity=String(xn.getOpacity()),Tn}});vn.addLayer(xn)}();
//# sourceMappingURL=mixed-renderers.04944451.js.map
