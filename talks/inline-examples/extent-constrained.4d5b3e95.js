!function(){function t(t,e,i,r){Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=e.parcelRequire827f;null==o&&((o=function(t){if(t in i)return i[t].exports;if(t in r){let e=r[t];delete r[t];let o={id:t,exports:{}};return i[t]=o,e.call(o.exports,o,o.exports),o.exports}var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(t,e){r[t]=e},e.parcelRequire827f=o),o.register("52PBC",(function(e,i){t(e.exports,"Map",(()=>o("4BFFB").default)),t(e.exports,"View",(()=>o("N1rY5").default));o("4BFFB"),o("N1rY5")})),o.register("7M8xZ",(function(e,i){t(e.exports,"ATTRIBUTION",(()=>a),(t=>a=t)),t(e.exports,"default",(()=>l),(t=>l=t));var r,n=o("7HPSR"),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',l=function(t){function e(e){var i,r=e||{};i=void 0!==r.attributions?r.attributions:[a];var o=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:o,imageSmoothing:r.imageSmoothing,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:n,wrapX:r.wrapX})||this}return s(e,t),e}(n.default)})),o.register("7HPSR",(function(e,i){t(e.exports,"default",(()=>l),(t=>l=t));var r,n=o("7mdfN"),s=o("lH692"),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e){var i=e||{},r=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:s.createXYZ({extent:s.extentFromProjection(r),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return a(e,t),e}(n.default)})),o.register("7mdfN",(function(e,i){t(e.exports,"default",(()=>T),(t=>T=t));var r,n=o("65ADj"),s=o("3c9Cv"),a=o("4CBNI"),l=o("3ZuCK"),u=o("dgki0"),c=o("38yss"),h=o("6ee7O"),p=o("6OFkd"),f=o("2vjin"),d=o("68k5U"),g=o("lH692"),_=o("6fegY"),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function v(t,e){t.getImage().src=e}var T=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:v,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:s.default,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.contextOptions_=!1===e.imageSmoothing?p.IMAGE_SMOOTHING_DISABLED:void 0,i.renderReprojectionEdges_=!1,i}return y(e,t),e.prototype.canExpireCache=function(){if(!h.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(h.ENABLE_RASTER_REPROJECTION){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var n=this.tileCacheForProjection[o];n.expireCache(n==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return h.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!f.equivalent(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(h.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!f.equivalent(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!h.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!f.equivalent(i,e)){var r=_.getUid(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=g.getForProjection(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!h.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||f.equivalent(i,e))return this.tileCache;var r=_.getUid(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new l.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,i,r,o,s){var a=[t,e,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,h=new this.tileClass(a,void 0!==c?u.default.IDLE:u.default.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(n.default.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,i,r,o){var n=this.getProjection();if(h.ENABLE_RASTER_REPROJECTION&&n&&o&&!f.equivalent(n,o)){var s=this.getTileCacheForProjection(o),l=[t,e,i],u=void 0,c=d.getKey(l);s.containsKey(c)&&(u=s.get(c));var p=this.getKey();if(u&&u.key==p)return u;var g=this.getTileGridForProjection(n),_=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(l,o),v=new a.default(n,g,o,_,l,y,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,n)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return v.key=p,u?(v.interimTile=u,v.refreshInterimChain(),s.replace(c,v)):s.set(c,v),v}return this.getTileInternal(t,e,i,r,n||o)},e.prototype.getTileInternal=function(t,e,i,r,o){var n=null,s=d.getKeyZXY(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if((n=this.tileCache.get(s)).key!=a){var l=n;n=this.createTile_(t,e,i,r,o,a),l.getState()==u.default.IDLE?n.interimTile=l.interimTile:n.interimTile=l,n.refreshInterimChain(),this.tileCache.replace(s,n)}}else n=this.createTile_(t,e,i,r,o,a),this.tileCache.set(s,n);return n},e.prototype.setRenderReprojectionEdges=function(t){if(h.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(h.ENABLE_RASTER_REPROJECTION){var i=f.get(t);if(i){var r=_.getUid(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(c.default)})),o.register("3c9Cv",(function(e,i){t(e.exports,"default",(()=>c),(t=>c=t));var r,n=o("3mLAE"),s=o("dgki0"),a=o("4eVqD"),l=o("1s8C5"),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});var c=function(t){function e(e,i,r,o,n,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=o,a.src_=r,a.key=r,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.tileLoadFunction_=n,a}return u(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=s.default.ERROR,this.unlistenImage_(),this.image_=((t=a.createCanvasContext2D(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.default.LOADED:this.state=s.default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==s.default.ERROR&&(this.state=s.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.default.IDLE&&(this.state=s.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=l.listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(n.default)})),o.register("3mLAE",(function(e,i){t(e.exports,"default",(()=>h),(t=>h=t));var r,n=o("4GA14"),s=o("65ADj"),a=o("dgki0"),l=o("6fegY"),u=o("46UD2"),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=function(t){function e(e,i,r){var o=t.call(this)||this,n=r||{};return o.tileCoord=e,o.state=i,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===n.transition?250:n.transition,o.transitionStarts_={},o}return c(e,t),e.prototype.changed=function(){this.dispatchEvent(s.default.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==a.default.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==a.default.LOADED){t.interimTile=null;break}t.getState()==a.default.LOADING?e=t:t.getState()==a.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==a.default.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){l.abstract()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:u.easeIn(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.default)})),o.register("4CBNI",(function(e,i){t(e.exports,"default",(()=>g),(t=>g=t));var r,n=o("6ee7O"),s=o("65ADj"),a=o("3mLAE"),l=o("dgki0"),u=o("1Lyf3"),c=o("3QjR9"),h=o("4qq0p"),p=o("4lmw7"),f=o("3H2uZ"),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t){function e(e,i,r,o,s,a,f,d,g,_,y,v){var T=t.call(this,s,l.default.IDLE)||this;T.renderEdges_=void 0!==y&&y,T.contextOptions_=v,T.pixelRatio_=f,T.gutter_=d,T.canvas_=null,T.sourceTileGrid_=i,T.targetTileGrid_=o,T.wrappedTileCoord_=a||s,T.sourceTiles_=[],T.sourcesListenerKeys_=null,T.sourceZ_=0;var m=o.getTileCoordExtent(T.wrappedTileCoord_),E=T.targetTileGrid_.getExtent(),x=T.sourceTileGrid_.getExtent(),C=E?p.getIntersection(m,E):m;if(0===p.getArea(C))return T.state=l.default.EMPTY,T;var O=e.getExtent();O&&(x=x?p.getIntersection(x,O):O);var R=o.getResolution(T.wrappedTileCoord_[0]),F=c.calculateSourceExtentResolution(e,r,C,R);if(!isFinite(F)||F<=0)return T.state=l.default.EMPTY,T;var S=void 0!==_?_:n.ERROR_THRESHOLD;if(T.triangulation_=new u.default(e,r,C,x,F*S,R),0===T.triangulation_.getTriangles().length)return T.state=l.default.EMPTY,T;T.sourceZ_=i.getZForResolution(F);var w=T.triangulation_.calculateSourceExtent();if(x&&(e.canWrapX()?(w[1]=h.clamp(w[1],x[1],x[3]),w[3]=h.clamp(w[3],x[1],x[3])):w=p.getIntersection(w,x)),p.getArea(w)){for(var P=i.getTileRangeForExtentAndZ(w,T.sourceZ_),j=P.minX;j<=P.maxX;j++)for(var b=P.minY;b<=P.maxY;b++){var A=g(T.sourceZ_,j,b,f);A&&T.sourceTiles_.push(A)}0===T.sourceTiles_.length&&(T.state=l.default.EMPTY)}else T.state=l.default.EMPTY;return T}return d(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==l.default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=l.default.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],n=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=c.render(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),n,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=l.default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==l.default.IDLE){this.state=l.default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var o=e.getState();if(o==l.default.IDLE||o==l.default.LOADING){t++;var n=f.listen(e,s.default.CHANGE,(function(i){var r=e.getState();r!=l.default.LOADED&&r!=l.default.ERROR&&r!=l.default.EMPTY||(f.unlistenByKey(n),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==l.default.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(f.unlistenByKey),this.sourcesListenerKeys_=null},e}(a.default)})),o.register("6ee7O",(function(e,i){t(e.exports,"ERROR_THRESHOLD",(()=>r)),t(e.exports,"ENABLE_RASTER_REPROJECTION",(()=>o));var r=.5,o=!0})),o.register("1Lyf3",(function(e,i){t(e.exports,"default",(()=>a));var r=o("4lmw7"),n=o("2vjin"),s=o("4qq0p"),a=function(){function t(t,e,i,o,a,l){this.sourceProj_=t,this.targetProj_=e;var u={},c=n.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return u[e]||(u[e]=c(t)),u[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&r.getWidth(o)==r.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?r.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?r.getWidth(this.targetProj_.getExtent()):null;var h=r.getTopLeft(i),p=r.getTopRight(i),f=r.getBottomRight(i),d=r.getBottomLeft(i),g=this.transformInv_(h),_=this.transformInv_(p),y=this.transformInv_(f),v=this.transformInv_(d),T=10+(l?Math.max(0,Math.ceil(s.log2(r.getArea(i)/(l*l*65536)))):0);if(this.addQuad_(h,p,f,d,g,_,y,v,T),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach((function(t,e,i){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-m>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-m>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-m>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}u={}}return t.prototype.addTriangle_=function(t,e,i,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,e,i]})},t.prototype.addQuad_=function(t,e,i,o,n,a,l,u,c){var h=r.boundingExtent([n,a,l,u]),p=this.sourceWorldWidth_?r.getWidth(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&p>.5&&p<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=r.boundingExtent([t,e,i,o]);g=r.getWidth(_)/this.targetWorldWidth_>.25||g}!d&&this.sourceProj_.isGlobal()&&p&&(g=p>.25||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||r.intersects(h,this.maxSourceExtent_)){var y=0;if(!(g||isFinite(n[0])&&isFinite(n[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])))if(c>0)g=!0;else if(1!=(y=(isFinite(n[0])&&isFinite(n[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=y&&4!=y&&8!=y)return;if(c>0){if(!g){var v=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(v),m=void 0;if(d)m=(s.modulo(n[0],f)+s.modulo(l[0],f))/2-s.modulo(T[0],f);else m=(n[0]+l[0])/2-T[0];var E=(n[1]+l[1])/2-T[1];g=m*m+E*E>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var x=[(e[0]+i[0])/2,(e[1]+i[1])/2],C=this.transformInv_(x),O=[(o[0]+t[0])/2,(o[1]+t[1])/2],R=this.transformInv_(O);this.addQuad_(t,e,x,O,n,a,C,R,c-1),this.addQuad_(O,x,i,o,R,C,l,u,c-1)}else{var F=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(F),w=[(i[0]+o[0])/2,(i[1]+o[1])/2],P=this.transformInv_(w);this.addQuad_(t,F,w,o,n,S,P,u,c-1),this.addQuad_(F,e,i,w,S,a,l,P,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&y)&&this.addTriangle_(t,i,o,n,l,u),0==(14&y)&&this.addTriangle_(t,i,e,n,l,a),y&&(0==(13&y)&&this.addTriangle_(e,o,t,a,u,n),0==(7&y)&&this.addTriangle_(e,o,i,a,u,l))}},t.prototype.calculateSourceExtent=function(){var t=r.createEmpty();return this.triangles_.forEach((function(e,i,o){var n=e.source;r.extendCoordinate(t,n[0]),r.extendCoordinate(t,n[1]),r.extendCoordinate(t,n[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}()})),o.register("3QjR9",(function(e,i){t(e.exports,"render",(()=>g)),t(e.exports,"calculateSourceExtentResolution",(()=>d));var r,n=o("6OFkd"),s=o("6RQ94"),a=o("4lmw7"),l=o("4eVqD"),u=o("2vjin"),c=o("4qq0p");function h(t,e,i,r,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(r,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(i,o)),t.restore()}function p(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function f(t,e,i,r){var o=u.transform(i,e,t),n=u.getPointResolution(e,r,i),s=e.getMetersPerUnit();void 0!==s&&(n*=s);var l=t.getMetersPerUnit();void 0!==l&&(n/=l);var c=t.getExtent();if(!c||a.containsCoordinate(c,o)){var h=u.getPointResolution(t,n,o)/n;isFinite(h)&&h>0&&(n/=h)}return n}function d(t,e,i,r){var o=a.getCenter(i),n=f(t,e,o,r);return(!isFinite(n)||n<=0)&&a.forEachCorner(i,(function(i){return n=f(t,e,i,r),isFinite(n)&&n>0})),n}function g(t,e,i,o,u,f,d,g,_,y,v,T){var m=l.createCanvasContext2D(Math.round(i*t),Math.round(i*e));if(s.assign(m,T),0===_.length)return m.canvas;function E(t){return Math.round(t*i)/i}m.scale(i,i),m.globalCompositeOperation="lighter";var x=a.createEmpty();_.forEach((function(t,e,i){a.extend(x,t.extent)}));var C=a.getWidth(x),O=a.getHeight(x),R=l.createCanvasContext2D(Math.round(i*C/o),Math.round(i*O/o));s.assign(R,T);var F=i/o;_.forEach((function(t,e,i){var r=t.extent[0]-x[0],o=-(t.extent[3]-x[3]),n=a.getWidth(t.extent),s=a.getHeight(t.extent);t.image.width>0&&t.image.height>0&&R.drawImage(t.image,y,y,t.image.width-2*y,t.image.height-2*y,r*F,o*F,n*F,s*F)}));var S=a.getTopLeft(d);return g.getTriangles().forEach((function(t,e,s){var a=t.source,l=t.target,u=a[0][0],d=a[0][1],g=a[1][0],_=a[1][1],y=a[2][0],v=a[2][1],C=E((l[0][0]-S[0])/f),O=E(-(l[0][1]-S[1])/f),F=E((l[1][0]-S[0])/f),w=E(-(l[1][1]-S[1])/f),P=E((l[2][0]-S[0])/f),j=E(-(l[2][1]-S[1])/f),b=u,A=d;u=0,d=0;var I=[[g-=b,_-=A,0,0,F-C],[y-=b,v-=A,0,0,P-C],[0,0,g,_,w-O],[0,0,y,v,j-O]],L=c.solveLinearSystem(I);if(L){if(m.save(),m.beginPath(),function(){if(void 0===r){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",h(t,4,5,4,0),h(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;r=p(e,0)||p(e,4)||p(e,8)}return r}()||T===n.IMAGE_SMOOTHING_DISABLED){m.moveTo(F,w);for(var M=C-F,z=O-w,D=0;D<4;D++)m.lineTo(F+E((D+1)*M/4),w+E(D*z/3)),3!=D&&m.lineTo(F+E((D+1)*M/4),w+E((D+1)*z/3));m.lineTo(P,j)}else m.moveTo(F,w),m.lineTo(C,O),m.lineTo(P,j);m.clip(),m.transform(L[0],L[2],L[1],L[3],C,O),m.translate(x[0]-b,x[3]-A),m.scale(o/i,-o/i),m.drawImage(R.canvas,0,0),m.restore()}})),v&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,g.getTriangles().forEach((function(t,e,i){var r=t.target,o=(r[0][0]-S[0])/f,n=-(r[0][1]-S[1])/f,s=(r[1][0]-S[0])/f,a=-(r[1][1]-S[1])/f,l=(r[2][0]-S[0])/f,u=-(r[2][1]-S[1])/f;m.beginPath(),m.moveTo(s,a),m.lineTo(o,n),m.lineTo(l,u),m.closePath(),m.stroke()})),m.restore()),m.canvas}})),o.register("6OFkd",(function(e,i){t(e.exports,"IMAGE_SMOOTHING_DISABLED",(()=>r));var r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}})),o.register("3ZuCK",(function(e,i){t(e.exports,"default",(()=>l),(t=>l=t));var r,n=o("uoaF3"),s=o("68k5U"),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=s.fromKey(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(s.getKey(t.tileCoord)),t.release())}.bind(this))}},e}(n.default)})),o.register("uoaF3",(function(e,i){t(e.exports,"default",(()=>n));var r=o("1mHUI"),n=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return r.assert(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return r.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){r.assert(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}()})),o.register("68k5U",(function(e,i){function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function o(t,e,i){return t+"/"+e+"/"+i}function n(t){return o(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function l(t,e){var i=t[0],r=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n=e.getFullTileRange(i);return!n||n.containsXY(r,o)}t(e.exports,"createOrUpdate",(()=>r)),t(e.exports,"getKeyZXY",(()=>o)),t(e.exports,"fromKey",(()=>s)),t(e.exports,"hash",(()=>a)),t(e.exports,"withinExtentAndZ",(()=>l)),t(e.exports,"getKey",(()=>n))})),o.register("38yss",(function(e,i){t(e.exports,"default",(()=>p),(t=>p=t));var r,n=o("3oO9h"),s=o("6gvkl"),a=o("dgki0"),l=o("7pR3g"),u=o("68k5U"),c=o("6fegY"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t){function e(i){var r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,key:i.key,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=i.tileLoadFunction,i.tileUrlFunction&&(r.tileUrlFunction=i.tileUrlFunction),r.urls=null,i.urls?r.setUrls(i.urls):i.url&&r.setUrl(i.url),r.tileLoadingKeys_={},r}return h(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=c.getUid(i),o=i.getState();o==a.default.LOADING?(this.tileLoadingKeys_[r]=!0,e=n.default.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=o==a.default.ERROR?n.default.TILELOADERROR:o==a.default.LOADED?n.default.TILELOADEND:void 0),null!=e&&this.dispatchEvent(new s.TileSourceEvent(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=l.expandUrl(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(l.createFromTemplates(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,i){},e.prototype.useTile=function(t,e,i){var r=u.getKeyZXY(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(s.default)})),o.register("3oO9h",(function(e,i){t(e.exports,"default",(()=>r));var r={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}})),o.register("6gvkl",(function(e,i){t(e.exports,"TileSourceEvent",(()=>y),(t=>y=t)),t(e.exports,"default",(()=>v),(t=>v=t));var r,n=o("0qSof"),s=o("3f7LD"),a=o("3ZuCK"),l=o("dgki0"),u=o("6fegY"),c=o("1mHUI"),h=o("2vjin"),p=o("68k5U"),f=o("lH692"),d=o("43BI1"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&d.toSize(r.getTileSize(r.getMinZoom()),[256,256]),i.tileCache=new a.default(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return g(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var n,s,a,u=!0,c=i.minX;c<=i.maxX;++c)for(var h=i.minY;h<=i.maxY;++h)s=p.getKeyZXY(e,c,h),a=!1,o.containsKey(s)&&(a=(n=o.get(s)).getState()===l.default.LOADED)&&(a=!1!==r(n)),a||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,r,o){return u.abstract()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:f.getForProjection(t)},e.prototype.getTileCacheForProjection=function(t){return c.assert(h.equivalent(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),n=d.toSize(r.getTileSize(t),this.tmpSize);return 1==o?n:d.scale(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=f.wrapX(r,t,i)),p.withinExtentAndZ(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,r){},e}(s.default),y=function(t){function e(e,i){var r=t.call(this,e)||this;return r.tile=i,r}return g(e,t),e}(n.default),v=_})),o.register("lH692",(function(e,i){t(e.exports,"wrapX",(()=>p)),t(e.exports,"getForProjection",(()=>h)),t(e.exports,"extentFromProjection",(()=>g)),t(e.exports,"createXYZ",(()=>f));var r=o("4nuo6"),n=o("ttXX0"),s=o("6MSva"),a=o("5TQMR"),l=o("2vjin"),u=o("4lmw7"),c=o("43BI1");function h(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,o){return function(t,e,i,o){var s=void 0!==o?o:r.default.TOP_LEFT,a=d(t,e,i);return new n.default({extent:t,origin:u.getCorner(t,s),resolutions:a,tileSize:i})}(g(t),e,i,o)}(t),t.setDefaultTileGrid(e)),e}function p(t,e,i){var r=e[0],o=t.getTileCoordCenter(e),n=g(i);if(u.containsCoordinate(n,o))return e;var s=u.getWidth(n),a=Math.ceil((n[0]-o[0])/s);return o[0]+=s*a,t.getTileCoordForCoordAndZ(o,r)}function f(t){var e=t||{},i=e.extent||l.get("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:d(i,e.maxZoom,e.tileSize,e.maxResolution)};return new n.default(r)}function d(t,e,i,r){for(var o=void 0!==e?e:a.DEFAULT_MAX_ZOOM,n=u.getHeight(t),s=u.getWidth(t),l=c.toSize(void 0!==i?i:a.DEFAULT_TILE_SIZE),h=r>0?r:Math.max(s/l[0],n/l[1]),p=o+1,f=new Array(p),d=0;d<p;++d)f[d]=h/Math.pow(2,d);return f}function g(t){var e=(t=l.get(t)).getExtent();if(!e){var i=180*l.METERS_PER_UNIT[s.default.DEGREES]/t.getMetersPerUnit();e=u.createOrUpdate(-i,-i,i,i)}return e}})),o.register("ttXX0",(function(e,i){t(e.exports,"default",(()=>f));var r=o("3f7wY"),n=o("5TQMR"),s=o("1mHUI"),a=o("4qq0p"),l=o("4lmw7"),u=o("68k5U"),c=o("3MevS"),h=o("43BI1"),p=[0,0,0],f=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,s.assert(c.isSorted(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,o=this.resolutions_.length-1;i<o;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,s.assert(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=l.getTopLeft(a)),s.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,s.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.DEFAULT_TILE_SIZE,s.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new r.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(a){var o=this.getTileRangeForExtentAndZ(a,e);i.minX=Math.max(o.minX,i.minX),i.maxX=Math.min(o.maxX,i.maxX),i.minY=Math.max(o.minY,i.minY),i.maxY=Math.min(o.maxY,i.maxY)}return i}),this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,o,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,o){var n,s,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),n=r.createOrUpdate(s,s,a,a,i)):n=this.getTileRangeForExtentAndZ(l,u,i),e(u,n))return!0;--u}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],n=2*t[2];return r.createOrUpdate(o,o+1,n,n+1,e)}var s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;var o=t[0],n=t[1],s=t[2];if(e===o)return r.createOrUpdate(n,s,n,s,i);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-o),l=Math.floor(n*a),u=Math.floor(s*a);if(e<o)return r.createOrUpdate(l,l,u,u,i);var c=Math.floor(a*(n+1))-1,h=Math.floor(a*(s+1))-1;return r.createOrUpdate(l,c,u,h,i)}var p=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,e,i)},t.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),n=h.toSize(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*n[0]*o,a=r[0]+(e.maxX+1)*n[0]*o,u=r[1]+e.minY*n[1]*o,c=r[1]+(e.maxY+1)*n[1]*o;return l.createOrUpdate(s,u,a,c,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var o=p;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,o);var n=o[1],s=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,o),r.createOrUpdate(n,o[1],s,o[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=h.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=h.toSize(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*o[0]*r,s=i[1]-(t[2]+1)*o[1]*r,a=n+o[0]*r,u=s+o[1]*r;return l.createOrUpdate(n,s,a,u,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),l=h.toSize(this.getTileSize(n),this.tmpSize_),c=r?.5:0,p=r?.5:0,f=Math.floor((t-a[0])/i+c),d=Math.floor((a[1]-e)/i+p),g=s*f/l[0],_=s*d/l[1];return r?(g=Math.ceil(g)-1,_=Math.ceil(_)-1):(g=Math.floor(g),_=Math.floor(_)),u.createOrUpdate(n,g,_,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var n=this.getOrigin(i),s=this.getResolution(i),a=h.toSize(this.getTileSize(i),this.tmpSize_),l=r?.5:0,c=r?.5:0,p=Math.floor((t-n[0])/s+l),f=Math.floor((n[1]-e)/s+c),d=p/a[0],g=f/a[1];return r?(d=Math.ceil(d)-1,g=Math.ceil(g)-1):(d=Math.floor(d),g=Math.floor(g)),u.createOrUpdate(i,d,g,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var i=c.linearFindNearest(this.resolutions_,t,e||0);return a.clamp(i,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},t}()})),o.register("7pR3g",(function(e,i){t(e.exports,"expandUrl",(()=>u)),t(e.exports,"createFromTemplates",(()=>l));var r=o("1mHUI"),n=o("4qq0p"),s=o("68k5U");function a(t,e){var i=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,l,u){return a?t.replace(i,a[0].toString()).replace(o,a[1].toString()).replace(n,a[2].toString()).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return r.assert(i,55),(i.getHeight()-a[2]-1).toString()})):void 0}}function l(t,e){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=a(t[o],e);return function(t){return 1===t.length?t[0]:function(e,i,r){if(e){var o=s.hash(e),a=n.modulo(o,t.length);return t[a](e,i,r)}}}(r)}function u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r=i[1].charCodeAt(0),o=i[2].charCodeAt(0),n=void 0;for(n=r;n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}}))}();
//# sourceMappingURL=extent-constrained.4d5b3e95.js.map
